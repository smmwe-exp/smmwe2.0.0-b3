<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_musicblock</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-7</depth>
  <persistent>0</persistent>
  <parentName>obj_noteblock</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.apariencia == 0)
{
    sprite_index = spr_SMB_musicblock
    image_speed = 0
    if ((global.bg_level == "snow") &amp;&amp; (global.modo_noche == 1))
        image_index = 4
    else if (global.bg_level == "snow")
        image_index = 3
    else if (global.bg_level == "castle")
        image_index = 2
    else if ((global.bg_level == "underground") || ((global.bg_level == "ghost") || (global.modo_noche == 1)))
        image_index = 1
    else
        image_index = 0
}
else if (global.apariencia == 1)
{
    sprite_index = spr_SMB3_musicblock
    image_speed = 0.15
}
else if (global.apariencia == 4)
{
    image_speed = 0.15
    if ((global.bg_level == "castle") || ((global.bg_level == "underground") || ((global.bg_level == "ghost") || (global.modo_noche == 1))))
        sprite_index = spr_SMB2_musicblock_night
    else
        sprite_index = spr_SMB2_musicblock
}
else
    image_speed = 0.15
up = 0
down = 0
sprout = -1
sonido = 0
ready = 0
mysolid = instance_create(x, y, obj_solid)
wings = 0
wings_anim = 0
if (global.apariencia == 0)
    sprite_wings = 370
else if (global.apariencia == 1)
    sprite_wings = 1064
else
    sprite_wings = 1928
alarm[10] = 4
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var col_phy, col_hold, player;
if instance_exists(mysolid)
{
    mysolid.x = x
    mysolid.y = y
}
if (ready == 1)
{
    if ((vspeed &lt; 0) &amp;&amp; ((down == 0) &amp;&amp; (y &lt;= (ystart - 16))))
    {
        vspeed = 1.5
        down = 1
    }
    if ((vspeed &gt; 0) &amp;&amp; ((down == 1) &amp;&amp; (y &gt;= ystart)))
    {
        down = 0
        alarm[1] = 1
    }
    if ((vspeed &gt; 0) &amp;&amp; ((up == 0) &amp;&amp; (y &gt;= (ystart + 16))))
    {
        up = 1
        vspeed = -1.5
    }
    else if ((vspeed &lt; 0) &amp;&amp; ((up == 1) &amp;&amp; (y &lt;= ystart)))
    {
        up = 0
        alarm[1] = 1
    }
}
if (instance_exists(obj_mario) &amp;&amp; (place_meeting(x, y, obj_mario) &amp;&amp; (((obj_mario.y + 16) &gt;= y) &amp;&amp; (obj_mario.state &lt; 2))))
{
    if (obj_mario.x &gt; (x + 8))
    {
        with (obj_mario)
            x++
    }
    else
    {
        with (obj_mario)
            x--
    }
}
if (!ready)
{
    col_phy = collision_rectangle(bbox_left, (bbox_top - 1), bbox_right, bbox_top, obj_physicsparent, 0, 0)
    col_hold = collision_rectangle(bbox_left, (bbox_top - 1), bbox_right, bbox_top, obj_holdparent, 0, 0)
    player = collision_rectangle(bbox_left, (bbox_bottom + 2), bbox_right, bbox_bottom, obj_blockparent, 1, 0)
    if (player &amp;&amp; (player.vspeed &lt; 0))
    {
        ready = 1
        vspeed = -1.5
    }
    else if (collision_rectangle(bbox_left, (bbox_top - 1), bbox_right, bbox_top, obj_mario, 0, 0) &amp;&amp; (obj_mario.bbox_bottom &lt; bbox_top))
    {
        ready = 1
        vspeed = 1.5
        with (obj_mario)
        {
            if ((global.bg_level == "underwater") || (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "sky")) || (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "airship")) || (instance_exists(obj_lava_water) &amp;&amp; ((y &gt; (obj_lava_water.y + 16)) &amp;&amp; ((global.bg_level == "forest") &amp;&amp; (global.modo_noche == 0)))))))
                vspeed = -3.225
            else
                vspeed = -5.225
            y--
            state = 2
            if keyboard_check(global.saltar)
            {
                jumpnow = 1
                audio_stop_sound(snd_musicblock)
                audio_stop_sound(snd_musicblock2)
                if (other.sonido == 0)
                {
                    audio_play_sound(snd_musicblock, 0, false)
                    other.sonido = 1
                }
                else
                {
                    audio_play_sound(snd_musicblock2, 0, false)
                    other.sonido = 0
                }
            }
            else if (keyboard_check(global.saltar_spin) &amp;&amp; ((holding == 0) &amp;&amp; (global.apariencia == 2)))
            {
                audio_play_sound(snd_spin, 0, false)
                state = 2
                isduck = 0
                y--
                stompstyle = 1
                audio_stop_sound(snd_musicblock)
                audio_stop_sound(snd_musicblock2)
                if (other.sonido == 0)
                {
                    audio_play_sound(snd_musicblock, 0, false)
                    other.sonido = 1
                }
                else
                {
                    audio_play_sound(snd_musicblock2, 0, false)
                    other.sonido = 0
                }
            }
            else
            {
                jumpnow = 2
                audio_stop_sound(snd_musicblock)
                audio_stop_sound(snd_musicblock2)
                if (other.sonido == 0)
                {
                    audio_play_sound(snd_musicblock, 0, false)
                    other.sonido = 1
                }
                else
                {
                    audio_play_sound(snd_musicblock2, 0, false)
                    other.sonido = 0
                }
            }
        }
        event_user(1)
    }
    if (col_hold &amp;&amp; ((col_hold.bbox_bottom &lt; bbox_top) &amp;&amp; (obj_levelmanager.editor == 0)))
    {
        ready = 1
        vspeed = 1.5
        col_hold.hspeed = 0
        if ((global.bg_level == "underwater") || (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "sky")) || (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "airship")) || (instance_exists(obj_lava_water) &amp;&amp; ((y &gt; (obj_lava_water.y + 16)) &amp;&amp; ((global.bg_level == "forest") &amp;&amp; (global.modo_noche == 0)))))))
            col_hold.vspeed = -2.225
        else
            col_hold.vspeed = -5.225
        y--
        audio_stop_sound(snd_musicblock)
        audio_stop_sound(snd_musicblock2)
        if (sonido == 0)
        {
            audio_play_sound(snd_musicblock, 0, false)
            sonido = 1
        }
        else
        {
            audio_play_sound(snd_musicblock2, 0, false)
            sonido = 0
        }
    }
    if ((col_phy &amp;&amp; ((col_phy.bbox_bottom &lt; bbox_top) &amp;&amp; ((col_phy.visible == 1) &amp;&amp; ((col_phy.object_index != obj_banzaibill) &amp;&amp; ((col_phy.object_index != obj_fire_clown) &amp;&amp; ((col_phy.object_index != obj_cap) &amp;&amp; ((col_phy.object_index != obj_podoboo) &amp;&amp; ((col_phy.object_index != obj_angrysun) &amp;&amp; ((col_phy.object_index != obj_yoshifire) &amp;&amp; ((col_phy.object_index != obj_yoshifire_one) &amp;&amp; ((col_phy.object_index != obj_cheepcheep) &amp;&amp; ((col_phy.object_index != obj_cheepcheep2) &amp;&amp; ((col_phy.object_index != obj_thwomp) &amp;&amp; ((col_phy.object_index != obj_grinder) &amp;&amp; ((col_phy.object_index != obj_boo) &amp;&amp; ((col_phy.object_index != obj_cannonball) &amp;&amp; ((col_phy.object_index != obj_cannonball_red) &amp;&amp; ((col_phy.object_index != obj_helmet) &amp;&amp; ((col_phy.object_index != obj_helmet_spiny) &amp;&amp; ((col_phy.object_index != obj_player_goal_smb1) &amp;&amp; ((col_phy.object_index != obj_player_goal_smw_castle) &amp;&amp; ((col_phy.object_index != obj_bulletbill) &amp;&amp; ((col_phy.object_index != obj_bulletbull_red) &amp;&amp; ((col_phy.object_index != obj_torbellino) &amp;&amp; (col_phy.object_index != obj_parcarry))))))))))))))))))))))))) || ((col_phy &amp;&amp; ((col_phy.bbox_bottom &lt; bbox_top) &amp;&amp; ((col_phy.object_index == obj_player_goal_smb1) &amp;&amp; ((col_phy.ready == 2) || (col_phy.ready == 3))))) || (col_phy &amp;&amp; ((col_phy.bbox_bottom &lt; bbox_top) &amp;&amp; ((col_phy.object_index == obj_player_goal_smw_castle) &amp;&amp; (col_phy.fall == 1))))))
    {
        ready = 1
        vspeed = 1.5
        if ((global.bg_level == "underwater") || (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "sky")) || (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "airship")) || (instance_exists(obj_lava_water) &amp;&amp; ((y &gt; (obj_lava_water.y + 16)) &amp;&amp; ((global.bg_level == "forest") &amp;&amp; (global.modo_noche == 0)))))))
        {
            if ((col_phy.object_index == obj_clown) || ((col_phy.object_index == obj_clown_fire) || (col_phy.object_index == obj_blooper)))
                col_phy.vspeed = -0.5
            else
                col_phy.vspeed = -2.225
        }
        else if ((col_phy.object_index == obj_clown) || ((col_phy.object_index == obj_clown_fire) || (col_phy.object_index == obj_blooper)))
            col_phy.vspeed = -1.5
        else
            col_phy.vspeed = -5.225
        y--
        if (col_phy.object_index == obj_hammerbro)
        {
            with (col_phy)
            {
                alarm[3] = 30
                throw = 1
            }
        }
        else if (col_phy.object_index == obj_sledgebro)
        {
            with (col_phy)
            {
                alarm[4] = 20
                if (global.apariencia == 0)
                    sprite_index = spr_SMB_sledgebro_throw
                else if (global.apariencia == 1)
                    sprite_index = spr_SMB3_sledgebro_throw
                else if (global.apariencia == 2)
                    sprite_index = spr_sledgebro_throw
                image_speed = 0
            }
        }
        audio_stop_sound(snd_musicblock)
        audio_stop_sound(snd_musicblock2)
        if (sonido == 0)
        {
            audio_play_sound(snd_musicblock, 0, false)
            sonido = 1
        }
        else
        {
            audio_play_sound(snd_musicblock2, 0, false)
            sonido = 0
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
