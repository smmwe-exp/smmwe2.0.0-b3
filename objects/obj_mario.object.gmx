<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_mario_small_walk</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-8</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sprite_index = scr_marioidle()
pmeter = 0
jump_loaded = 0
airspin = 0
airspin_count = 0
groundpount = 0
jump_type = 0
inplatform = 0
inclown = 0
canhang = 0
canturn = 0
enable_gravity = 1
disablegrav = 0
ygrav = 1
mario_index = "walk"
flashAlpha = 0
keys = 0
shake = 0
stuntime = 0
snow = 0
state = 0
direct = 1
holding = 0
turning = 0
fly_cap = 0
modo_vuelo = 0
canfly = 0
fly_high = 3
helmet = 0
jumpnow = 0
s_hen = 0
skidnow = 0
isswim = 0
isswimhold = 0
isduck = 0
isduckhold = 0
isup = 0
isuphold = 0
invincible = 0
netsmack = 0
iamkicking = 0
stompstyle = 0
isslip = 0
disablecontrols = 0
isfloating = 0
floatnow = 0
powerupfly = 0
walljump = 0
squirrelpropel = 0
doublejump = 0
firing = 0
caped = 0
wiggle = 0
swimtype = 0
noisy = 0
isflashing = 0
hitpoint = 0
statedelay = 0
can_break_block = 0
alarm[5] = 8
alarm[9] = (24 + random(96))
if (global.shallihold &gt; 0)
{
    holding = global.shallihold
    global.shallihold = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (skidnow == 1)
    audio_stop_sound(snd_skid)
if (noisy == 1)
    audio_stop_sound(snd_swim)
if (floatnow == 1)
    audio_stop_sound(snd_spin)
if instance_exists(obj_shake_mario)
{
    with (obj_shake_mario)
        instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>turning = 0
caped = 0
if ((global.powerup == 3) &amp;&amp; ((obj_mario.state == 2) &amp;&amp; instance_exists(obj_cap_mario)))
    obj_cap_mario.sprite_index = spr_cap_fall
else if ((global.powerup == 3) &amp;&amp; ((obj_mario.state == 1) &amp;&amp; (instance_exists(obj_cap_mario) &amp;&amp; (obj_mario.hspeed != 0))))
    obj_cap_mario.sprite_index = spr_cap_run
else if ((global.powerup == 3) &amp;&amp; ((obj_mario.state == 1) &amp;&amp; (instance_exists(obj_cap_mario) &amp;&amp; (obj_mario.hspeed == 0))))
{
    obj_cap_mario.sprite_index = spr_cap_start_stay
    obj_cap_mario.image_speed = 0.1
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var clown_col;
if ((disablecontrols == 0) &amp;&amp; (((holding == 0) || ((holding == 3) &amp;&amp; (global.yoshi == 2))) &amp;&amp; (stompstyle == 0)))
{
    if ((global.powerup == -40) &amp;&amp; ((!instance_exists(obj_spinner)) &amp;&amp; keyboard_check(global.abajo)))
        instance_create(x, y, obj_statue)
    else if (isduck == 0)
    {
        if ((global.powerup == 3) &amp;&amp; (global.yoshi == 0))
        {
            clown_col = collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_clown_fire, 0, 0)
            if (clown_col &amp;&amp; (clown_col.inmario == 1))
                exit
            else
            {
                audio_stop_sound(snd_spin)
                audio_play_sound(snd_spin, 0, false)
                caped = 1
                alarm[11] = 25
            }
        }
        else if (global.powerup == 2)
        {
            if (instance_number(obj_fireball) &lt; 2)
            {
                clown_col = collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_clown_fire, 0, 0)
                if (clown_col &amp;&amp; (clown_col.inmario == 1))
                    exit
                else
                {
                    firing = 9
                    if (isswim == 0)
                    {
                        if (global.apariencia == 0)
                        {
                            with (instance_create(x, (y + 12), obj_fireball))
                                hspeed = (4.5 * other.direct)
                        }
                        else
                        {
                            with (instance_create(x, (y + 16), obj_fireball))
                                hspeed = (4.5 * other.direct)
                        }
                    }
                    else if (global.apariencia == 0)
                    {
                        with (instance_create(x, (y + 12), obj_fireball))
                            hspeed = (3 * other.direct)
                    }
                    else
                    {
                        with (instance_create(x, (y + 16), obj_fireball))
                            hspeed = (3 * other.direct)
                    }
                }
            }
            else if (stompstyle == 1)
                alarm[10] = 2
        }
        else if ((global.powerup == -50) &amp;&amp; (instance_number(obj_superball) &lt; 1))
        {
            clown_col = collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_clown_fire, 0, 0)
            if (clown_col &amp;&amp; (clown_col.inmario == 1))
                exit
            else
            {
                firing = 9
                if (isswim == 0)
                {
                    with (instance_create(x, (y + 12), obj_superball))
                        hspeed = (4.5 * other.direct)
                }
                else
                {
                    with (instance_create(x, (y + 12), obj_superball))
                        hspeed = (3 * other.direct)
                }
            }
        }
        else if ((global.powerup == -39) &amp;&amp; ((sprite_index != scr_mariojumpstar()) &amp;&amp; ((!instance_exists(obj_spinner)) &amp;&amp; (global.yoshi == 0))))
        {
            clown_col = collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_clown_fire, 0, 0)
            if (clown_col &amp;&amp; (clown_col.inmario == 1))
                exit
            else
                instance_create(x, y, obj_spinner)
        }
        else if ((global.powerup == -47) &amp;&amp; (instance_number(obj_minibomb) &lt; 1))
        {
            firing = 9
            with (instance_create((x - 4), (y + 16), obj_minibomb))
                hspeed = ((1.5 * other.direct) + other.hspeed)
        }
        else if (((global.powerup == -49) || ((global.powerup == -38) &amp;&amp; (isswim == 0))) &amp;&amp; (!instance_exists(obj_iceball)))
        {
            firing = 9
            with (instance_create(x, (y + 16), obj_iceball))
                hspeed = (3 * other.direct)
        }
        else if ((global.powerup == -41) &amp;&amp; (instance_number(obj_shuriken) &lt; 2))
        {
            firing = 9
            with (instance_create(x, (y + 20), obj_shuriken))
                hspeed = (5 * other.direct)
        }
        else if ((global.powerup == -48) &amp;&amp; (instance_number(obj_boomerang_b) &lt; 2))
        {
            firing = 9
            with (instance_create((x - 8), (y + 16), obj_boomerang_b))
                hspeed = (1.5 * other.direct)
        }
        else if ((global.powerup == -52) &amp;&amp; (!instance_exists(obj_rockroller)))
            instance_create(x, (y + 10), obj_rockroller)
        else if ((global.powerup == -51) &amp;&amp; (instance_number(obj_pyreball) &lt; 2))
        {
            firing = 9
            with (instance_create(x, (y + 16), obj_pyreball))
                hspeed = (3 * other.direct)
        }
        else if ((global.powerup == -53) &amp;&amp; (!instance_exists(obj_karateattack)))
            instance_create(x, y, obj_karateattack)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[9] = (45 + random_range(-15, 15))
if (isswim == 1)
    instance_create(x, bbox_top, obj_bubble)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ((global.powerup == 2) &amp;&amp; (instance_number(obj_fireball) &lt; 2))
{
    with (instance_create(x, (y + 16), obj_fireball))
        hspeed = (-3 * other.direct)
}
else if ((global.powerup == -46) &amp;&amp; (instance_number(obj_hammer) &lt; 2))
{
    with (instance_create(x, (y + 16), obj_hammer))
        hspeed = (-1.5 * other.direct)
}
else if (((global.powerup == -49) || (global.powerup == -38)) &amp;&amp; (instance_number(obj_iceball) &lt; 1))
{
    with (instance_create(x, (y + 16), obj_iceball))
        hspeed = (-3 * other.direct)
}
else if ((global.powerup == -50) &amp;&amp; (instance_number(obj_superball) &lt; 2))
{
    with (instance_create(x, (y + 16), obj_superball))
        hspeed = (-2 * other.direct)
}
else if ((global.powerup == -41) &amp;&amp; (instance_number(obj_shuriken) &lt; 2))
{
    with (instance_create(x, (y + 20), obj_shuriken))
        hspeed = (-5 * other.direct)
}
else if ((global.powerup == -51) &amp;&amp; (instance_number(obj_pyreball) &lt; 2))
{
    with (instance_create(x, (y + 16), obj_pyreball))
        hspeed = (-3 * other.direct)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ((global.powerup == 2) &amp;&amp; (instance_number(obj_fireball) &lt; 2))
{
    with (instance_create(x, (y + 16), obj_fireball))
        hspeed = (5 * other.direct)
}
else if ((global.powerup == -46) &amp;&amp; (instance_number(obj_hammer) &lt; 2))
{
    with (instance_create(x, (y + 16), obj_hammer))
        hspeed = (1.5 * other.direct)
}
else if (((global.powerup == -49) || (global.powerup == -38)) &amp;&amp; (instance_number(obj_iceball) &lt; 1))
{
    with (instance_create(x, (y + 16), obj_iceball))
        hspeed = (3 * other.direct)
}
else if ((global.powerup == -50) &amp;&amp; (instance_number(obj_superball) &lt; 2))
{
    with (instance_create(x, (y + 16), obj_superball))
        hspeed = (2 * other.direct)
}
else if ((global.powerup == -41) &amp;&amp; (instance_number(obj_shuriken) &lt; 2))
{
    with (instance_create(x, (y + 20), obj_shuriken))
        hspeed = (5 * other.direct)
}
else if ((global.powerup == -51) &amp;&amp; (instance_number(obj_pyreball) &lt; 2))
{
    with (instance_create(x, (y + 16), obj_pyreball))
        hspeed = (3 * other.direct)
}
alarm[8] = 10
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.apariencia != 3)
    iamkicking = 0
canhang = 2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (skidnow == 1)
{
    if (((direct == 1) &amp;&amp; (state != 4)) || ((direct == -1) &amp;&amp; (state == 4)))
    {
        with (instance_create((x + 1), (y + 24), obj_smoke))
        {
            sprite_index = spr_skidsmoke
            depth = -6
        }
    }
    else
    {
        with (instance_create((x - 8), (y + 24), obj_smoke))
        {
            sprite_index = spr_skidsmoke
            depth = -6
        }
    }
}
alarm[5] = 8
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>netsmack = 0
can_break_block = 2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (!instance_exists(obj_invincibility))
    invincible = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_alpha = 1
if (invincible == 1)
    alarm[1] = 6
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (image_alpha == 1)
    image_alpha = 0
else
    image_alpha = 1
alarm[2] = 4
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>holding = 0
holdingwarp = 0
canhang = 0
canturn = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(obj_levelmanager)
    pmeter = obj_levelmanager.pmeter
if (isduck == 0)
{
    if (global.powerup == 0)
        mask_index = spr_smallmask
    else if (global.powerup == -77)
        mask_index = spr_megamask
    else
        mask_index = spr_bigmask
    if ((global.powerup == 2) || ((global.powerup == -49) || (global.powerup == -50)))
    {
        if (firing &gt; 0)
            firing--
    }
    else
        firing = 0
    if (global.powerup == -39)
    {
        if ((state == 2) &amp;&amp; (stompstyle == 0))
        {
            if (wiggle &gt; 1)
                wiggle--
            if (wiggle &gt; 12)
                image_index = 3
            else if (wiggle &gt; 8)
                image_index = 2
            else if (wiggle &gt; 4)
                image_index = 1
            else if (wiggle &gt; 1)
                image_index = 2
            else if (wiggle == 1)
                image_index = 1
        }
        else
            wiggle = 0
    }
    else
        wiggle = 0
    if (holding == 0)
    {
        if ((state &lt; 2) &amp;&amp; ((pmeter &gt; 5) &amp;&amp; (((direct == 1) &amp;&amp; ((hspeed &lt; 0) &amp;&amp; keyboard_check(global.derecha))) || ((direct == -1) &amp;&amp; ((hspeed &gt; 0) &amp;&amp; keyboard_check(global.izquierda))))))
        {
            sprite_index = scr_marioskid()
            image_speed = 0
            image_index = 0
            if (skidnow == 0)
            {
                skidnow = 1
                if (global.apariencia != 0)
                    audio_play_sound(scr_snd_skid(), 1, true)
            }
        }
        else if (state == 0)
        {
            if (caped &gt; 0)
            {
                if instance_exists(obj_mario_transform2)
                    image_speed = 0
                else
                    image_speed = 0.3
                sprite_index = scr_mariowarp()
            }
            else if (firing &gt; 0)
            {
                image_speed = 0
                if ((firing &lt; 6) &amp;&amp; (firing &gt; 3))
                    image_index = 1
                else
                {
                    image_index = 0
                    sprite_index = scr_marioshoot()
                }
            }
            else if instance_exists(obj_mario_transform2)
            {
                if (skidnow == 1)
                {
                    sprite_index = scr_marioskid()
                    audio_stop_sound(scr_snd_skid())
                }
                else if (obj_mario_transform2.m_hspeed != 0)
                    sprite_index = scr_mariowalk()
                else
                    sprite_index = scr_marioidle()
            }
            else
            {
                sprite_index = scr_marioidle()
                image_speed = 0
                if (isup == 1)
                    sprite_index = scr_marioup()
            }
        }
        else if (state == 1)
        {
            if (caped &gt; 0)
            {
                if instance_exists(obj_mario_transform2)
                    image_speed = 0
                else
                    image_speed = 0.3
                sprite_index = scr_mariowarp()
            }
            else if (firing &gt; 0)
            {
                image_speed = 0
                if ((firing &lt; 6) &amp;&amp; (firing &gt; 3))
                    image_index = 1
                else
                {
                    image_index = 0
                    sprite_index = scr_marioshoot()
                }
            }
            else
            {
                if ((global.bg_level == "snow") &amp;&amp; (global.modo_noche == 1))
                    image_speed = abs((hspeed / 5))
                else
                    image_speed = abs((hspeed / 6))
                if (global.powerup == -29)
                {
                    sprite_index = scr_mariowalk()
                    if ((!audio_is_playing(snd_SMB_smalljump)) &amp;&amp; (pmeter &lt; 6))
                        audio_play_sound(snd_SMB_smalljump, 0, false)
                }
                else if instance_exists(obj_mario_transform2)
                {
                    if (skidnow == 1)
                    {
                        sprite_index = scr_marioskid()
                        image_speed = 0
                        image_index = 0
                        audio_stop_sound(scr_snd_skid())
                    }
                    else
                    {
                        image_speed = 0
                        if (pmeter &lt; 6)
                            sprite_index = scr_mariowalk()
                        else if ((global.apariencia == 0) || (global.apariencia == 4))
                            sprite_index = scr_mariowalk()
                        else
                            sprite_index = scr_mariorun()
                    }
                }
                else if ((pmeter &lt; 6) || ((global.apariencia == 0) || (global.apariencia == 4)))
                    sprite_index = scr_mariowalk()
                else
                    sprite_index = scr_mariorun()
            }
        }
        else if (state == 2)
        {
            if (isswim == 1)
            {
                if (caped &gt; 0)
                {
                    if instance_exists(obj_mario_transform2)
                        image_speed = 0
                    else
                        image_speed = 0.3
                    sprite_index = scr_mariowarp()
                }
                else if (noisy == 0)
                {
                    if (vspeed &lt; 0)
                    {
                        sprite_index = scr_marioswim()
                        if (global.apariencia == 0)
                            image_speed = 0.35
                        else
                            image_speed = 0.16
                    }
                    else
                    {
                        sprite_index = scr_mario_swim_idle()
                        image_speed = 0.15
                    }
                }
            }
            else if (stompstyle == 1)
            {
                if instance_exists(obj_mario_transform2)
                    image_speed = 0
                else
                    image_speed = 0.4
                sprite_index = scr_mariowarp()
            }
            else if (caped &gt; 0)
            {
                if instance_exists(obj_mario_transform2)
                    image_speed = 0
                else
                    image_speed = 0.3
                sprite_index = scr_mariowarp()
            }
            else if (firing &gt; 0)
            {
                image_speed = 0
                if ((firing &lt; 6) &amp;&amp; (firing &gt; 3))
                    image_index = 1
                else
                    image_index = 0
                sprite_index = scr_marioshoot()
            }
            else if (modo_vuelo == 1)
            {
                if (place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0))
                {
                    if ((sprite_index != spr_mario_cap_fly_acender) &amp;&amp; ((sprite_index != spr_mario_cap_fly_decender) &amp;&amp; ((sprite_index != spr_mario_cap_fly_acender_decender) &amp;&amp; ((sprite_index != spr_luigi_cap_fly_acender) &amp;&amp; ((sprite_index != spr_luigi_cap_fly_decender) &amp;&amp; ((sprite_index != spr_luigi_cap_fly_acender_decender) &amp;&amp; ((sprite_index != spr_toad_cap_fly_acender) &amp;&amp; ((sprite_index != spr_toad_cap_fly_decender) &amp;&amp; ((sprite_index != spr_toad_cap_fly_acender_decender) &amp;&amp; ((sprite_index != spr_toadette_cap_fly_acender) &amp;&amp; ((sprite_index != spr_toadette_cap_fly_decender) &amp;&amp; (sprite_index != spr_toadette_cap_fly_acender_decender))))))))))))
                    {
                        sprite_index = scr_mario_cap_fly()
                        image_speed = 0.2
                    }
                }
                else if ((sprite_index != spr_mario_cap_fly_acender) &amp;&amp; ((sprite_index != spr_luigi_cap_fly_acender) &amp;&amp; ((sprite_index != spr_toad_cap_fly_acender) &amp;&amp; (sprite_index != spr_toadette_cap_fly_acender))))
                {
                    sprite_index = scr_mario_cap_fly()
                    image_speed = 0
                }
            }
            else if (pmeter &lt; 6)
            {
                if ((global.apariencia == 1) &amp;&amp; ((global.powerup != 0) &amp;&amp; instance_exists(obj_invincibility)))
                {
                    sprite_index = scr_mariojumpstar()
                    image_speed = 0.4
                }
                else
                {
                    sprite_index = scr_mariojump()
                    if (global.powerup == -78)
                        image_speed = 0.2
                    if (global.powerup != -39)
                    {
                        if ((place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0)) || collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0))
                        {
                            if ((global.powerup == -78) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0)) &amp;&amp; ((jumpnow != 0) &amp;&amp; (s_hen == 1))))
                            {
                                audio_play_sound(snd_SMB_hen_jump_fall, 0, false)
                                s_hen = 0
                                sprite_index = scr_mariodrop()
                            }
                            else if ((global.apariencia == 0) &amp;&amp; (jumpnow == 0))
                            {
                                sprite_index = scr_mariowalk()
                                image_index = 0
                            }
                            else
                            {
                                sprite_index = scr_mariodrop()
                                if ((global.apariencia == 4) &amp;&amp; (global.jugador == 1))
                                    image_speed = 0.2
                            }
                        }
                    }
                    else if (wiggle == 0)
                    {
                        image_speed = 0
                        if ((place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0)) || collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0))
                            image_index = 3
                        else
                            image_index = 0
                    }
                }
            }
            else if ((global.apariencia == 1) &amp;&amp; ((global.powerup != 0) &amp;&amp; ((global.powerup != -39) &amp;&amp; ((global.powerup != -29) &amp;&amp; instance_exists(obj_invincibility)))))
            {
                sprite_index = scr_mariojumpstar()
                image_speed = 0.4
            }
            else if collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0)
            {
                if ((global.apariencia == 0) &amp;&amp; (jumpnow == 0))
                {
                    sprite_index = scr_mariowalk()
                    image_index = 0
                }
                else
                {
                    sprite_index = scr_mariodrop()
                    if ((global.apariencia == 4) &amp;&amp; (global.jugador == 1))
                        image_speed = 0.2
                }
            }
            else
            {
                if ((global.apariencia == 0) || (global.apariencia == 4))
                {
                    if ((place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0)) || collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0))
                    {
                        if ((global.powerup == -78) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0)) &amp;&amp; ((jumpnow != 0) &amp;&amp; (s_hen == 1))))
                        {
                            audio_play_sound(snd_SMB_hen_jump_fall, 0, false)
                            s_hen = 0
                            sprite_index = scr_mariodrop()
                        }
                        else
                        {
                            sprite_index = scr_mariodrop()
                            if ((global.apariencia == 4) &amp;&amp; (global.jugador == 1))
                                image_speed = 0.2
                        }
                    }
                    else
                    {
                        sprite_index = scr_mariojump()
                        if (global.powerup == -78)
                            image_speed = 0.2
                    }
                }
                else if (global.powerup == -29)
                {
                    if ((place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0)) || collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0))
                        sprite_index = scr_mariodrop()
                    else
                        sprite_index = scr_mariojump()
                }
                else
                    sprite_index = scr_mariorunjump()
                if (global.powerup == -39)
                {
                    if (wiggle == 0)
                    {
                        image_speed = 0
                        if ((place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0)) || collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0))
                            image_index = 0
                        else
                            image_index = 2
                    }
                }
            }
        }
        if (global.powerup == -29)
        {
            if (isswim == 1)
            {
                if (swimtype == 0)
                    sprite_index = scr_marioswim()
                if (swimtype == 1)
                    sprite_index = scr_marioswim2()
                if (swimtype == 2)
                    sprite_index = scr_marioswim3()
                if (noisy == 1)
                    image_speed = 0.15
                else
                    image_speed = 0
            }
        }
    }
    else
    {
        if (state == 0)
        {
            image_speed = 0
            image_index = 0.99
        }
        if (state == 1)
        {
            if (turning == 0)
                image_speed = abs((hspeed / 10))
            else
            {
                image_speed = 0
                image_index = 1
            }
        }
        if (state == 2)
        {
            if (turning == 0)
            {
                if ((isswim == 1) &amp;&amp; (((holding == 2) || (holding == 1)) &amp;&amp; (global.apariencia != 0)))
                {
                    image_speed = 0
                    if (vspeed &gt; 0)
                        image_speed = 0.16
                    else
                        image_index = 0
                }
                else if ((holding == 2) &amp;&amp; ((stompstyle == 1) &amp;&amp; (isswim == 0)))
                    image_speed = 0.4
                else
                {
                    image_speed = 0
                    if (global.powerup != -39)
                    {
                        if ((global.powerup != 0) &amp;&amp; (global.apariencia == 1))
                            image_index = 2
                        else
                            image_index = 1
                    }
                    else if (((wiggle == 0) &amp;&amp; (place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0))) || collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0))
                        image_index = 2
                    else
                        image_index = 1
                }
            }
            else
            {
                image_speed = 0
                image_index = 1
            }
        }
        if (turning == 1)
            sprite_index = scr_mariowarp()
        if (((holding == 1) || (holding == 2)) &amp;&amp; ((isswim == 1) &amp;&amp; ((gravity != 0) &amp;&amp; (global.apariencia != 0))))
            sprite_index = scr_marioswimhold()
        else if ((holding == 2) &amp;&amp; ((stompstyle == 1) &amp;&amp; (isswim == 0)))
            sprite_index = scr_mariowarp()
        else if ((holding == 1) || (holding == 2))
        {
            if ((global.apariencia == 1) &amp;&amp; ((global.powerup == -39) &amp;&amp; (vspeed != 0)))
                sprite_index = scr_mariojumphold()
            else if (global.powerup == -29)
            {
                if (pmeter &lt; 6)
                    sprite_index = scr_mariohold()
                else
                    sprite_index = scr_mariorun()
            }
            else
                sprite_index = scr_mariohold()
            if ((isuphold == 1) &amp;&amp; ((jumpnow == 0) &amp;&amp; (state == 0)))
                sprite_index = scr_mariouphold()
        }
    }
    if (state == 3)
    {
        sprite_index = scr_marioclimb()
        if ((global.apariencia &lt; 2) || (global.apariencia == 4))
        {
            if (vspeed == 0)
            {
                image_speed = 0
                if ((global.apariencia == 4) &amp;&amp; audio_is_playing(snd_SMB2_liana))
                    audio_stop_sound(snd_SMB2_liana)
            }
            else
            {
                image_speed = 0.15
                if ((global.apariencia == 4) &amp;&amp; (!audio_is_playing(snd_SMB2_liana)))
                    audio_play_sound(snd_SMB2_liana, 1, true)
            }
        }
        else if (global.apariencia == 2)
        {
            if (speed == 0)
            {
                image_speed = 0
                image_index = 2
            }
            else
            {
                image_speed = 0.25
                if (image_index &gt; 1.8)
                    image_index = 0
            }
        }
    }
    else if (state == 4)
    {
        sprite_index = scr_marioskid()
        if ((skidnow == 0) &amp;&amp; (global.apariencia != 0))
        {
            skidnow = 1
            audio_play_sound(scr_snd_skid(), 1, true)
        }
    }
    if ((iamkicking == 1) &amp;&amp; ((stompstyle == 0) &amp;&amp; (global.apariencia != 0)))
        sprite_index = scr_mariokick()
}
else if (isduck == 1)
{
    if (global.powerup == 0)
        mask_index = spr_smallduckmask
    else if (global.powerup == -77)
    {
        if (instance_exists(obj_kuriboshoe) || instance_exists(obj_kuriboshoe2))
            mask_index = spr_megamask
        else
            mask_index = spr_mega_mask_duck
    }
    else
        mask_index = spr_smallmask
    if (keyboard_check(global.derecha) &amp;&amp; ((!keyboard_check(global.izquierda)) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((global.apariencia != 0) || ((global.apariencia == 0) &amp;&amp; (vspeed == 0))))))
        direct = 1
    else if (keyboard_check(global.izquierda) &amp;&amp; ((!keyboard_check(global.derecha)) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((global.apariencia != 0) || ((global.apariencia == 0) &amp;&amp; (vspeed == 0))))))
        direct = -1
    if (global.powerup == -39)
    {
        if ((state == 2) &amp;&amp; (stompstyle == 0))
        {
            if (wiggle &gt; 1)
                wiggle--
            if (wiggle &gt; 12)
                image_index = 3
            else if (wiggle &gt; 8)
                image_index = 2
            else if (wiggle &gt; 4)
                image_index = 1
            else if (wiggle &gt; 1)
                image_index = 2
            else if (wiggle == 1)
                image_index = 1
        }
        else
            wiggle = 0
    }
    else
        wiggle = 0
    if ((iamkicking == 1) &amp;&amp; (global.apariencia == 4))
        sprite_index = scr_mariokick()
    else if (isduckhold == 1)
    {
        sprite_index = scr_marioduckhold()
        if (jump_loaded == 60)
            image_speed = 0.3
        else
        {
            image_speed = 0
            image_index = 0
        }
    }
    else
    {
        sprite_index = scr_marioduck()
        if ((place_free(x, (y + 1)) &amp;&amp; ((vspeed &gt; 0) &amp;&amp; (global.powerup == -39))) || (collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bortice, 0, 0) &amp;&amp; ((global.powerup == -39) &amp;&amp; (wiggle == 0))))
        {
            image_speed = 0
            image_index = 2
        }
        else if (jump_loaded == 60)
            image_speed = 0.3
        else
        {
            image_speed = 0
            image_index = 0
        }
    }
}
if ((sprite_index != scr_marioskid()) &amp;&amp; ((skidnow == 1) &amp;&amp; (!instance_exists(obj_mario_transform2))))
{
    audio_stop_sound(scr_snd_skid())
    skidnow = 0
}
if ((sprite_index != scr_marioclimb()) &amp;&amp; audio_is_playing(snd_SMB2_liana))
    audio_stop_sound(snd_SMB2_liana)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var solid_dead, solidtop_dead, pinchos_dead, solid_right, solid_left, bullet_right, bullet_left, muncher_right, muncher_left, pinchos_right, pinchos_left, cannon_right, cannon_left, oneway_right, oneway_left;
solid_dead = collision_rectangle(x, (bbox_top + 2), x, (bbox_top + 2), obj_solid, 1, 0)
solidtop_dead = collision_rectangle((bbox_left + 3), bbox_bottom, (bbox_right - 3), (bbox_bottom + 1), obj_solidtop, 0, 0)
pinchos_dead = collision_rectangle((bbox_left + 3), bbox_bottom, (bbox_right - 3), (bbox_bottom + 1), obj_pinchos, 0, 0)
solid_right = collision_rectangle((x + 6), (bbox_top + 2), (x + 6), (y + 30), obj_solid, 1, 0)
solid_left = collision_rectangle((x - 6), (bbox_top + 2), (x - 6), (y + 30), obj_solid, 1, 0)
bullet_right = collision_rectangle((x + 6), (bbox_top + 2), (x + 6), (y + 30), obj_bullebill_base, 1, 0)
bullet_left = collision_rectangle((x - 6), (bbox_top + 2), (x - 6), (y + 30), obj_bullebill_base, 1, 0)
muncher_right = collision_rectangle((x + 6), (bbox_top + 2), (x + 6), (y + 30), obj_muncher, 1, 0)
muncher_left = collision_rectangle((x - 6), (bbox_top + 2), (x - 6), (y + 30), obj_muncher, 1, 0)
pinchos_right = collision_rectangle((x + 6), (bbox_top + 2), (x + 6), (y + 30), obj_pinchos, 1, 0)
pinchos_left = collision_rectangle((x - 6), (bbox_top + 2), (x - 6), (y + 30), obj_pinchos, 1, 0)
cannon_right = collision_rectangle((x + 6), (bbox_top + 2), (x + 6), (y + 30), obj_cannon, 1, 0)
cannon_left = collision_rectangle((x - 6), (bbox_top + 2), (x - 6), (y + 30), obj_cannon, 1, 0)
oneway_right = collision_rectangle((x + 5), (bbox_top + 2), (x + 6), (y + 30), obj_onewaygate_left, 1, 0)
oneway_left = collision_rectangle((x - 5), (bbox_top + 2), (x - 6), (y + 30), obj_onewaygate_right, 1, 0)
if (solid_dead &amp;&amp; ((solid_dead.vspeed &gt; 0) &amp;&amp; ((solid_dead.y &lt; (y + 16)) &amp;&amp; ((vspeed == 0) &amp;&amp; ((gravity == 0) &amp;&amp; (solidtop_dead || pinchos_dead))))))
{
    instance_create(x, y, obj_deadmario)
    instance_destroy()
}
else if ((solid_right || (bullet_right || (muncher_right || (pinchos_right || (cannon_right || oneway_right))))) &amp;&amp; ((solid_left &amp;&amp; (solid_left.hspeed &gt; 0)) || ((muncher_left &amp;&amp; (muncher_left.hspeed &gt; 0)) || (cannon_left &amp;&amp; (cannon_left.hspeed &gt; 0)))))
{
    instance_create(x, y, obj_deadmario)
    instance_destroy()
}
else if ((solid_left || (bullet_left || (muncher_left || (pinchos_left || (cannon_left || oneway_left))))) &amp;&amp; ((solid_right &amp;&amp; (solid_right.hspeed &lt; 0)) || ((muncher_right &amp;&amp; (muncher_right.hspeed &lt; 0)) || (cannon_right &amp;&amp; (cannon_right.hspeed &lt; 0)))))
{
    instance_create(x, y, obj_deadmario)
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var solidtop, block_pow, b_drybones, thwomp_block, munchers_block, enemigos_solid, pinchos_block, conveyor, pow_col1, pow_col2, pswitch_col1, pswitch_col2, col_muncher_type1, col_muncher_type2, col_cannon1, col_cannon2, col_pinchos_type1, col_pinchos_type2, onoff, onoff_blue, pblock, pblock_2, col_one_right, col_one_left, blocks_pswitch, b_pswitch2, b_block_pow, one_2, billbase, cannon, colthwomps, col_one_bottom, block_col, block_col_ice, block_col_rock, block_icecoin;
if (flashAlpha &gt; 0)
    flashAlpha -= 0.03
if (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "snow")) || (collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_block_ice, 0, 0) || collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_icecoin, 0, 0)))
    snow = 1
else
    snow = 0
if (enable_gravity == 1)
{
    if (vspeed &gt; 0)
    {
        solidtop = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + vspeed), obj_solidtop, 0, 0)
        if (solidtop &amp;&amp; ((bbox_bottom &lt; (solidtop.yprevious + 5)) &amp;&amp; (!collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (solidtop.y - 1), obj_solid, 1, 0))))
        {
            if (((sprite_index == spr_mario_cap_fly_decender) || ((sprite_index == spr_luigi_cap_fly_decender) || ((sprite_index == spr_toad_cap_fly_decender) || (sprite_index == spr_toadette_cap_fly_decender)))) &amp;&amp; (image_index == 2))
            {
                audio_play_sound(snd_thwomp_original, 0, false)
                if instance_exists(obj_levelmanager)
                {
                    with (obj_levelmanager)
                        alarm[11] = 1
                }
                if instance_exists(obj_enemyparent)
                {
                    with (obj_enemyparent)
                    {
                        if ((vspeed == 0) &amp;&amp; ((hardness &lt; 99) &amp;&amp; ((object_index != obj_grinder) &amp;&amp; ((x &lt; (view_xview[0] + 404)) &amp;&amp; ((x &gt; (view_xview[0] - 20)) &amp;&amp; ((y &gt; (view_yview[0] - 20)) &amp;&amp; (y &lt; (view_yview[0] + 236))))))))
                        {
                            dead_h = 1
                            event_user(0)
                        }
                    }
                }
                if instance_exists(obj_boomboom)
                {
                    with (obj_boomboom)
                    {
                        if ((vspeed == 0) &amp;&amp; ((x &lt; (view_xview[0] + 404)) &amp;&amp; ((x &gt; (view_xview[0] - 20)) &amp;&amp; ((y &gt; (view_yview[0] - 20)) &amp;&amp; (y &lt; (view_yview[0] + 236))))))
                        {
                            dead_h = 1
                            event_user(0)
                        }
                    }
                }
                if instance_exists(obj_muncher)
                {
                    with (obj_muncher)
                    {
                        if ((vspeed == 0) &amp;&amp; ((x &lt; (view_xview[0] + 404)) &amp;&amp; ((x &gt; (view_xview[0] - 20)) &amp;&amp; ((y &gt; (view_yview[0] - 20)) &amp;&amp; (y &lt; (view_yview[0] + 236))))))
                        {
                            dead_h = 1
                            event_user(0)
                        }
                    }
                }
            }
            if (collision_rectangle(bbox_left, (bbox_bottom + 2), bbox_right, ((bbox_bottom + vspeed) + 2), obj_block_rock, 0, 0) || (collision_rectangle(bbox_left, (bbox_bottom + 2), bbox_right, ((bbox_bottom + vspeed) + 2), obj_block_ice, 0, 0) || (collision_rectangle(bbox_left, (bbox_bottom + 2), bbox_right, ((bbox_bottom + vspeed) + 2), obj_blockparent, 0, 0) || (collision_rectangle(bbox_left, (bbox_bottom + 2), bbox_right, ((bbox_bottom + vspeed) + 2), obj_icecoin, 0, 0) || collision_rectangle(bbox_left, (bbox_bottom + 2), bbox_right, ((bbox_bottom + vspeed) + 2), obj_block_pow_hold, 0, 0)))))
            {
                if ((jumpnow != 0) &amp;&amp; ((can_break_block == 0) &amp;&amp; (vspeed &gt; 0)))
                    can_break_block = 1
                if (can_break_block == 2)
                    can_break_block = 0
            }
            else if (can_break_block == 2)
                can_break_block = 0
            modo_vuelo = 0
            y = (solidtop.y - 32)
            vspeed = 0
            gravity = 0
            stompstyle = 0
            airspin = 0
            airspin_count = 0
            jumpnow = 0
            hitpoint = 0
            canfly = 0
            powerupfly = 0
            walljump = 0
            jump_type = 0
            squirrelpropel = 0
            doublejump = 0
            if (collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + vspeed), obj_pinchos, 0, 0) &amp;&amp; ((invincible == 0) &amp;&amp; (global.yoshi == 0)))
                event_user(0)
        }
        block_pow = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + vspeed), obj_block_pow_hold, 0, 0)
        if (block_pow &amp;&amp; (bbox_bottom &lt; (block_pow.yprevious + 5)))
        {
            y = (block_pow.y - 32)
            modo_vuelo = 0
            vspeed = 0
            gravity = 0
            stompstyle = 0
            airspin = 0
            airspin_count = 0
            jumpnow = 0
            hitpoint = 0
            canfly = 0
            powerupfly = 0
            walljump = 0
            jump_type = 0
            squirrelpropel = 0
            doublejump = 0
        }
        b_drybones = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + vspeed), obj_lava_water_drybones, 0, 0)
        if (b_drybones &amp;&amp; ((bbox_bottom &lt; (b_drybones.yprevious + 5)) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_top + 4), bbox_right, (b_drybones.y - 1), obj_solid, 1, 0)) &amp;&amp; instance_exists(obj_kuribo_drybones))))
        {
            y = (b_drybones.y - 32)
            modo_vuelo = 0
            vspeed = 0
            gravity = 0
            stompstyle = 0
            airspin = 0
            airspin_count = 0
            jumpnow = 0
            hitpoint = 0
            canfly = 0
            powerupfly = 0
            walljump = 0
            jump_type = 0
            squirrelpropel = 0
            doublejump = 0
        }
        thwomp_block = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + vspeed), obj_thwomp, 0, 0)
        if ((thwomp_block &amp;&amp; ((bbox_bottom &lt; (thwomp_block.yprevious + 5)) &amp;&amp; (global.yoshi &gt; 0))) || (thwomp_block &amp;&amp; ((bbox_bottom &lt; (thwomp_block.yprevious + 5)) &amp;&amp; ((stompstyle == 0) &amp;&amp; ((invincible == 1) &amp;&amp; (!instance_exists(obj_invincibility)))))))
        {
            y = ceil(((thwomp_block.bbox_top - 32) - thwomp_block.vspeed))
            modo_vuelo = 0
            vspeed = 0
            gravity = 0
            airspin = 0
            airspin_count = 0
            jumpnow = 0
            hitpoint = 0
            canfly = 0
            powerupfly = 0
            walljump = 0
            jump_type = 0
            squirrelpropel = 0
            doublejump = 0
        }
        munchers_block = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + vspeed), obj_muncher, 0, 0)
        if ((munchers_block &amp;&amp; ((bbox_bottom &lt; (munchers_block.yprevious + 5)) &amp;&amp; (global.yoshi &gt; 0))) || (munchers_block &amp;&amp; ((bbox_bottom &lt; (munchers_block.yprevious + 5)) &amp;&amp; (invincible == 1))))
        {
            y = ceil(((munchers_block.bbox_top - 32) - munchers_block.vspeed))
            modo_vuelo = 0
            vspeed = 0
            gravity = 0
            jumpnow = 0
            airspin = 0
            airspin_count = 0
            hitpoint = 0
            canfly = 0
            walljump = 0
            jump_type = 0
        }
        enemigos_solid = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + vspeed), obj_enemyparent, 0, 0)
        if (enemigos_solid &amp;&amp; ((global.apariencia == 4) &amp;&amp; ((bbox_bottom &lt; (enemigos_solid.yprevious + 5)) &amp;&amp; ((enemigos_solid.stomp != 1) &amp;&amp; ((enemigos_solid.stomp != 2) &amp;&amp; (enemigos_solid.stomp != 5))))))
        {
            y = ceil(((enemigos_solid.bbox_top - 32) - enemigos_solid.vspeed))
            vspeed = 0
            gravity = 0
            jumpnow = 0
            hitpoint = 0
        }
        pinchos_block = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + vspeed), obj_pinchos, 0, 0)
        if ((pinchos_block &amp;&amp; ((bbox_bottom &lt; (pinchos_block.yprevious + 5)) &amp;&amp; (global.yoshi &gt; 0))) || ((pinchos_block &amp;&amp; ((bbox_bottom &lt; (pinchos_block.yprevious + 5)) &amp;&amp; (invincible == 1))) || (pinchos_block &amp;&amp; ((bbox_bottom &lt; (pinchos_block.yprevious + 5)) &amp;&amp; instance_exists(obj_invincibility)))))
        {
            y = ceil((pinchos_block.bbox_top - 32))
            modo_vuelo = 0
            vspeed = 0
            gravity = 0
            jumpnow = 0
            hitpoint = 0
            canfly = 0
            powerupfly = 0
            walljump = 0
            jump_type = 0
        }
    }
    if (stuntime &gt; 0)
    {
        if (stuntime == 1)
        {
            stuntime = 0
            shake = 0
            disablecontrols = 0
            if instance_exists(obj_shake_mario)
            {
                with (obj_shake_mario)
                    instance_destroy()
            }
        }
        stuntime--
        shake = (-shake)
    }
    conveyor = collision_rectangle((bbox_left - 2), bbox_top, (bbox_right + 2), (bbox_bottom + 1), obj_cinta_parent, 0, 0)
    if (conveyor &amp;&amp; (conveyor.image_speed != 0))
    {
        if (conveyor.image_speed &gt; 0)
        {
            if ((!collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 4), obj_solid, 1, 0)) &amp;&amp; ((!collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 4), obj_pinchos, 1, 0)) &amp;&amp; ((!collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 4), obj_muncher, 1, 0)) &amp;&amp; ((!collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 4), obj_cannon, 1, 0)) &amp;&amp; ((!collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 4), obj_bullebill_base, 1, 0)) &amp;&amp; (!collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 2), (bbox_bottom - 4), obj_onewaygate_left, 1, 0)))))))
                x -= conveyor.image_speed
        }
        else if (conveyor.image_speed &lt; 0)
        {
            if ((!collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 4), obj_solid, 1, 0)) &amp;&amp; ((!collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 4), obj_pinchos, 1, 0)) &amp;&amp; ((!collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 4), obj_muncher, 1, 0)) &amp;&amp; ((!collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 4), obj_cannon, 1, 0)) &amp;&amp; ((!collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 4), obj_bullebill_base, 1, 0)) &amp;&amp; (!collision_rectangle((bbox_left - 2), (bbox_top + 4), bbox_left, (bbox_bottom - 4), obj_onewaygate_right, 1, 0)))))))
                x -= conveyor.image_speed
        }
    }
    if (collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 4), obj_slopeparent, 1, 0) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_bottom - 4), bbox_right, (bbox_bottom - 4), obj_slopeparent, 1, 0)) &amp;&amp; (state == 1)))
        y += 4
    if (collision_rectangle(bbox_left, (bbox_bottom - 4), bbox_right, bbox_bottom, obj_slopeparent, 1, 0) &amp;&amp; (!collision_rectangle(bbox_left, (bbox_bottom - 8), bbox_right, (bbox_bottom - 8), obj_slopeparent, 1, 0)))
    {
        if (vspeed &gt; 0)
        {
            vspeed = 0
            gravity = 0
            if (jumpnow == 2)
                jumpnow = 0
            hitpoint = 0
            powerupfly = 0
            walljump = 0
            jump_type = 0
        }
        if (vspeed &gt; -0.85)
        {
            while collision_rectangle(bbox_left, (bbox_bottom - 4), bbox_right, bbox_bottom, obj_slopeparent, 1, 0)
                y--
        }
    }
    if (isswim == 0)
    {
        if (state == 3)
            event_user(4)
        else if (state == 4)
            event_user(5)
        else
            event_user(2)
    }
    else if (state == 3)
        event_user(4)
    else
        event_user(3)
    pow_col1 = collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_block_pow_hold, 1, 0)
    pow_col2 = collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_block_pow_hold, 1, 0)
    if (pow_col1 &amp;&amp; ((pow_col1.held == 0) &amp;&amp; ((pow_col1.inmune == 0) &amp;&amp; (scr_canhold() == 0))))
    {
        if (hspeed &gt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_right, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_block_pow_hold, 1, 0) &amp;&amp; ((!collision_point(x, (bbox_top + 4), obj_block_pow_hold, 0, 0)) &amp;&amp; (state &lt; 2)))
            x--
    }
    else if (pow_col2 &amp;&amp; ((pow_col2.held == 0) &amp;&amp; ((pow_col2.inmune == 0) &amp;&amp; (scr_canhold() == 0))))
    {
        if (hspeed &lt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_left, (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_block_pow_hold, 1, 0) &amp;&amp; ((!collision_point(x, (bbox_top + 4), obj_block_pow_hold, 0, 0)) &amp;&amp; (state &lt; 2)))
            x++
    }
    pswitch_col1 = collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_pswitch, 1, 0)
    pswitch_col2 = collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_pswitch, 1, 0)
    if (pswitch_col1 &amp;&amp; ((pswitch_col1.held == 0) &amp;&amp; ((pswitch_col1.inmune == 0) &amp;&amp; ((pswitch_col1.inup == 1) || ((pswitch_col1.inup == 0) &amp;&amp; (scr_canhold() == 0))))))
    {
        if (hspeed &gt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_right, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_pswitch, 1, 0) &amp;&amp; ((!collision_point(x, (bbox_top + 4), obj_pswitch, 0, 0)) &amp;&amp; (state &lt; 2)))
            x--
    }
    else if (pswitch_col2 &amp;&amp; ((pswitch_col2.held == 0) &amp;&amp; ((pswitch_col2.inmune == 0) &amp;&amp; ((pswitch_col2.inup == 1) || ((pswitch_col2.inup == 0) &amp;&amp; (scr_canhold() == 0))))))
    {
        if (hspeed &lt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_left, (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_pswitch, 1, 0) &amp;&amp; ((!collision_point(x, (bbox_top + 4), obj_pswitch, 0, 0)) &amp;&amp; (state &lt; 2)))
            x++
    }
    col_muncher_type1 = collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_muncher, 1, 0)
    col_muncher_type2 = collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_muncher, 1, 0)
    if col_muncher_type1
    {
        if (hspeed &gt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_right, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_muncher, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_muncher, 0, 0)))
            x--
        if (invincible == 0)
            event_user(0)
    }
    else if col_muncher_type2
    {
        if (hspeed &lt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_left, (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_muncher, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_muncher, 0, 0)))
            x++
        if (invincible == 0)
            event_user(0)
    }
    col_cannon1 = collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_cannon, 1, 0)
    col_cannon2 = collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_cannon, 1, 0)
    if col_cannon1
    {
        if (hspeed &gt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_right, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_cannon, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_cannon, 0, 0)))
            x--
    }
    else if col_cannon2
    {
        if (hspeed &lt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_left, (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_cannon, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_cannon, 0, 0)))
            x++
    }
    col_pinchos_type1 = collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_pinchos, 1, 0)
    col_pinchos_type2 = collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_pinchos, 1, 0)
    if ((hspeed &gt; 0) &amp;&amp; col_pinchos_type1)
    {
        hspeed = 0
        while (collision_rectangle(bbox_right, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_pinchos, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_pinchos, 0, 0)))
            x--
        if (invincible == 0)
            event_user(0)
    }
    else if ((hspeed &lt; 0) &amp;&amp; col_pinchos_type2)
    {
        hspeed = 0
        while (collision_rectangle(bbox_left, (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_pinchos, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_pinchos, 0, 0)))
            x++
        if (invincible == 0)
            event_user(0)
    }
    if collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_bullebill_base, 1, 0)
    {
        if (hspeed &gt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_right, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_bullebill_base, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_bullebill_base, 0, 0)))
            x--
    }
    else if collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_bullebill_base, 1, 0)
    {
        if (hspeed &lt; 0)
            hspeed = 0
        while (collision_rectangle(bbox_left, (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_bullebill_base, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_bullebill_base, 0, 0)))
            x++
    }
    if collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_solid, 1, 0)
    {
        if (hspeed &gt; 0)
            hspeed = 0
        onoff = collision_rectangle((bbox_right - 3), (bbox_top + 3), (bbox_left + 3), (bbox_bottom - 3), obj_onoffplatform, 1, 0)
        onoff_blue = collision_rectangle((bbox_right - 3), (bbox_top + 3), (bbox_left + 3), (bbox_bottom - 3), obj_onoffplatform_blue, 1, 0)
        pblock = collision_rectangle((bbox_right - 3), (bbox_top + 3), (bbox_left + 3), (bbox_bottom - 3), obj_pblock, 1, 0)
        pblock_2 = collision_rectangle((bbox_right - 3), (bbox_top + 3), (bbox_left + 3), (bbox_bottom - 3), obj_anti_pblock, 1, 0)
        if ((onoff &amp;&amp; (onoff.image_index == 1)) || ((onoff_blue &amp;&amp; (onoff_blue.image_index == 1)) || ((pblock &amp;&amp; (pblock.image_index == 0)) || (pblock_2 &amp;&amp; (pblock_2.image_index == 0)))))
        {
            speed = 0
            gravity = 0
            isduck = 1
            jumpnow = 0
        }
        else
        {
            while (collision_rectangle(bbox_right, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_solid, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_solid, 0, 0)))
                x--
        }
        if (collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_pinchos, 1, 0) &amp;&amp; (invincible == 0))
            event_user(0)
    }
    else if collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_solid, 1, 0)
    {
        if (hspeed &lt; 0)
            hspeed = 0
        onoff = collision_rectangle((bbox_right - 3), (bbox_top + 3), (bbox_left + 3), (bbox_bottom - 3), obj_onoffplatform, 1, 0)
        onoff_blue = collision_rectangle((bbox_right - 3), (bbox_top + 3), (bbox_left + 3), (bbox_bottom - 3), obj_onoffplatform_blue, 1, 0)
        pblock = collision_rectangle((bbox_right - 3), (bbox_top + 3), (bbox_left + 3), (bbox_bottom - 3), obj_pblock, 1, 0)
        pblock_2 = collision_rectangle((bbox_right - 3), (bbox_top + 3), (bbox_left + 3), (bbox_bottom - 3), obj_anti_pblock, 1, 0)
        if ((onoff &amp;&amp; (onoff.image_index == 1)) || ((onoff_blue &amp;&amp; (onoff_blue.image_index == 1)) || ((pblock &amp;&amp; (pblock.image_index == 0)) || (pblock_2 &amp;&amp; (pblock_2.image_index == 0)))))
        {
            speed = 0
            gravity = 0
            isduck = 1
            jumpnow = 0
        }
        else
        {
            while (collision_rectangle(bbox_left, (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_solid, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_solid, 0, 0)))
                x++
        }
        if (collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_pinchos, 1, 0) &amp;&amp; (invincible == 0))
            event_user(0)
    }
    col_one_right = collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_onewaygate_right, 1, 0)
    if col_one_right
    {
        if (hspeed &lt; 0)
        {
            hspeed = 0
            with (col_one_right)
                rot = 1
            if (!audio_is_playing(snd_oneway))
                audio_play_sound(snd_oneway, 0, false)
        }
        while (collision_rectangle(bbox_left, (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_onewaygate_right, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_onewaygate_right, 0, 0)))
            x++
    }
    col_one_left = collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_onewaygate_left, 1, 0)
    if col_one_left
    {
        if (hspeed &gt; 0)
        {
            hspeed = 0
            with (col_one_left)
                rot = 1
            if (!audio_is_playing(snd_oneway))
                audio_play_sound(snd_oneway, 0, false)
        }
        while (collision_rectangle(bbox_right, (bbox_top + 4), bbox_right, (bbox_bottom - 1), obj_onewaygate_left, 1, 0) &amp;&amp; (!collision_point(x, (bbox_top + 4), obj_onewaygate_left, 0, 0)))
            x--
    }
    blocks_pswitch = collision_rectangle(bbox_left, (bbox_top - 2), bbox_right, bbox_top, obj_pswitch, 1, 0)
    b_pswitch2 = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_pswitch, 1, 0)
    b_block_pow = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_block_pow_hold, 1, 0)
    if ((vspeed &lt; 0) &amp;&amp; (blocks_pswitch &amp;&amp; ((blocks_pswitch.inup == 1) &amp;&amp; ((bbox_top + 5) &gt;= blocks_pswitch.bbox_bottom))))
    {
        vspeed = 0
        with (blocks_pswitch)
            event_user(6)
    }
    if ((vspeed &lt; 0) &amp;&amp; (b_pswitch2 &amp;&amp; ((b_pswitch2.held == 0) &amp;&amp; ((b_pswitch2.inmune == 0) &amp;&amp; ((b_pswitch2.vspeed == 0) &amp;&amp; ((bbox_top + 5) &gt;= b_pswitch2.bbox_bottom))))))
        vspeed = 0
    if ((vspeed &lt; 0) &amp;&amp; (b_block_pow &amp;&amp; ((b_block_pow.held == 0) &amp;&amp; ((b_block_pow.inmune == 0) &amp;&amp; ((b_block_pow.vspeed == 0) &amp;&amp; ((bbox_top + 5) &gt;= b_block_pow.bbox_bottom))))))
    {
        vspeed = 0
        with (b_block_pow)
        {
            explode = 1
            event_user(6)
        }
    }
    one_2 = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_onewaygate_bottom, 1, 0)
    billbase = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_bullebill_base, 1, 0)
    cannon = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_cannon, 1, 0)
    if (((vspeed &lt; 0) &amp;&amp; collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_solid, 1, 0)) || (((vspeed &lt; 0) &amp;&amp; (billbase &amp;&amp; ((bbox_top + 5) &gt;= billbase.bbox_bottom))) || (((vspeed &lt; 0) &amp;&amp; collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_muncher, 1, 0)) || (((vspeed &lt; 0) &amp;&amp; collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_pinchos, 1, 0)) || (((vspeed &lt; 0) &amp;&amp; (cannon &amp;&amp; ((bbox_top + 5) &gt;= cannon.bbox_bottom))) || ((vspeed &lt; 0) &amp;&amp; (one_2 &amp;&amp; ((bbox_top + 5) &gt;= one_2.bbox_bottom))))))))
    {
        colthwomps = collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_thwomp, 0, 0)
        if (colthwomps &amp;&amp; (colthwomps.vspeed &lt; 0))
        {
            instance_create(x, y, obj_deadmario)
            instance_destroy()
        }
        if (state &gt; 1)
        {
            while (collision_rectangle(bbox_left, (bbox_top + 1), bbox_right, (bbox_top + 1), obj_solid, 1, 0) || collision_rectangle(bbox_left, (bbox_top + 1), bbox_right, (bbox_top + 1), obj_islope_r, 1, 0))
                y++
        }
        vspeed = 0
        col_one_bottom = collision_rectangle(bbox_left, (bbox_top - 2), bbox_right, bbox_top, obj_onewaygate_bottom, 1, 0)
        if col_one_bottom
        {
            with (col_one_bottom)
                rot = 1
            if (!audio_is_playing(snd_oneway))
                audio_play_sound(snd_oneway, 0, false)
        }
        else if (!audio_is_playing(scr_snd_bump()))
        {
            audio_stop_sound(scr_jump())
            audio_play_sound(scr_snd_bump(), 0, false)
        }
        block_col = collision_rectangle(bbox_left, (bbox_top - 2), bbox_right, bbox_top, obj_blockparent, 1, 0)
        block_col_ice = collision_rectangle(bbox_left, (bbox_top - 2), bbox_right, bbox_top, obj_block_ice, 1, 0)
        block_col_rock = collision_rectangle(bbox_left, (bbox_top - 2), bbox_right, bbox_top, obj_block_rock, 1, 0)
        block_icecoin = collision_rectangle(bbox_left, (bbox_top - 2), bbox_right, bbox_top, obj_icecoin, 1, 0)
        if ((instance_exists(obj_helmet_spiny) || (global.powerup == -77)) &amp;&amp; (block_col_ice &amp;&amp; (block_col_ice.vspeed == 0)))
        {
            with (block_col_ice)
                alarm[0] = 1
        }
        if ((instance_exists(obj_helmet_spiny) || (global.powerup == -77)) &amp;&amp; (block_icecoin &amp;&amp; (block_icecoin.vspeed == 0)))
        {
            with (block_icecoin)
                alarm[0] = 1
        }
        if ((instance_exists(obj_helmet_spiny) || (global.powerup == -77)) &amp;&amp; (block_col_rock &amp;&amp; (block_col_rock.vspeed == 0)))
        {
            with (block_col_rock)
                alarm[0] = 1
        }
        if ((instance_exists(obj_helmet_spiny) || (global.powerup == -77)) &amp;&amp; (block_col &amp;&amp; ((block_col.vspeed == 0) &amp;&amp; ((block_col.object_index != obj_onoffblock) &amp;&amp; (block_col.object_index != obj_noteblock)))))
        {
            with (block_col)
                alarm[2] = 1
        }
        if (block_col &amp;&amp; ((block_col.vspeed == 0) &amp;&amp; ((block_col.object_index == obj_flipblock) &amp;&amp; ((global.apariencia != 2) &amp;&amp; ((global.powerup != 0) || ((global.powerup == 0) &amp;&amp; instance_exists(obj_helmet)))))))
        {
            with (block_col)
                alarm[2] = 1
        }
        else if (block_col &amp;&amp; ((block_col.object_index == obj_onoffblock) &amp;&amp; (block_col.ready == 0)))
        {
            with (block_col)
                event_user(1)
        }
        else if (block_col &amp;&amp; (global.powerup != -77))
        {
            if (block_col.ready == 0)
            {
                with (block_col)
                {
                    ready = 1
                    vspeed = -2
                    if (object_index == obj_noteblock)
                        alarm[0] = 7
                    else
                        alarm[0] = 4
                    event_user(0)
                }
            }
        }
        if ((noisy == 0) &amp;&amp; ((state &lt; 3) &amp;&amp; (vspeed &lt; 0)))
        {
            jumpnow = 2
            audio_stop_sound(scr_snd_bump())
            audio_stop_sound(scr_jump())
            audio_play_sound(scr_snd_bump(), 0, false)
        }
    }
    if (state &lt; 3)
    {
        if ((state != 2) &amp;&amp; (disablecontrols == 0))
        {
            if (keyboard_check(global.abajo) &amp;&amp; (((global.apariencia == 1) || ((global.apariencia == 0) || (global.apariencia == 3))) &amp;&amp; (((holding == 0) || (holding == 3)) &amp;&amp; (noisy == 0))))
                isduck = 1
            else if (keyboard_check(global.abajo) &amp;&amp; ((holding == 2) &amp;&amp; ((noisy == 0) &amp;&amp; (global.apariencia == 2))))
            {
                isduck = 1
                isduckhold = 1
            }
            else if (keyboard_check(global.abajo) &amp;&amp; ((holding == 1) &amp;&amp; ((noisy == 0) &amp;&amp; (global.apariencia == 4))))
            {
                isduck = 1
                isduckhold = 1
            }
            else if (keyboard_check(global.abajo) &amp;&amp; (((holding == 0) || (holding == 3)) &amp;&amp; ((noisy == 0) &amp;&amp; ((global.apariencia == 2) || (global.apariencia == 4)))))
                isduck = 1
            else if ((!keyboard_check(global.abajo)) &amp;&amp; ((collision_rectangle(bbox_left, (bbox_top - 16), bbox_right, bbox_top, obj_solid, 1, 0) || collision_rectangle(bbox_left, (bbox_top - 16), bbox_right, bbox_top, obj_onewaygate_bottom, 1, 0)) &amp;&amp; (holding == 3)))
            {
                isduck = 0
                isduckhold = 0
            }
            else if ((!keyboard_check(global.abajo)) &amp;&amp; ((collision_rectangle(bbox_left, (bbox_top - 16), bbox_right, bbox_top, obj_solid, 1, 0) || collision_rectangle(bbox_left, (bbox_top - 16), bbox_right, bbox_top, obj_onewaygate_bottom, 1, 0)) &amp;&amp; (global.powerup == 0)))
            {
                isduck = 0
                isduckhold = 0
            }
            else if ((!keyboard_check(global.abajo)) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_top - 16), bbox_right, bbox_top, obj_solid, 1, 0)) &amp;&amp; (!collision_rectangle(bbox_left, (bbox_top - 16), bbox_right, bbox_top, obj_onewaygate_bottom, 1, 0))))
            {
                isduck = 0
                isduckhold = 0
            }
            if (keyboard_check(global.arriba) &amp;&amp; ((global.powerup != -29) &amp;&amp; ((holding == 0) &amp;&amp; ((noisy == 0) &amp;&amp; (global.apariencia == 2)))))
                isup = 1
            else if (keyboard_check(global.arriba) &amp;&amp; ((global.powerup != -29) &amp;&amp; ((holding == 2) &amp;&amp; ((noisy == 0) &amp;&amp; (global.apariencia == 2)))))
                isuphold = 1
            else if (!keyboard_check(global.arriba))
            {
                isup = 0
                isuphold = 0
            }
        }
        else if ((state == 2) &amp;&amp; (disablecontrols == 0))
        {
            if ((!keyboard_check(global.abajo)) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_top - 16), bbox_right, bbox_top, obj_solid, 1, 0)) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_top - 16), bbox_right, bbox_top, obj_onewaygate_bottom, 1, 0)) &amp;&amp; (place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0)))))
            {
                isduck = 0
                isduckhold = 0
            }
            else if ((isduck == 1) &amp;&amp; ((holding == 2) &amp;&amp; ((noisy == 0) &amp;&amp; (global.apariencia == 2))))
                isduckhold = 1
        }
        if (keyboard_check_pressed(global.lanzar_agarrar) &amp;&amp; (instance_exists(obj_levelmanager) &amp;&amp; (obj_levelmanager.barrier == 0)))
            alarm[10] = 1
    }
    else
        isduck = 0
    if (((global.bg_level == "underwater") &amp;&amp; (isswim == 0)) || (((global.bg_level == "castle") &amp;&amp; ((global.modo_noche == 1) &amp;&amp; (isswim == 0))) || (instance_exists(obj_lava_water) &amp;&amp; ((global.bg_level == "forest") &amp;&amp; ((global.modo_noche == 0) &amp;&amp; (((y + 18) &gt;= obj_lava_water.y) &amp;&amp; (isswim == 0)))))))
    {
        if ((holding == 2) &amp;&amp; (global.apariencia == 2))
            isswimhold = 1
        isswim = 1
        powerupfly = 0
        walljump = 0
        squirrelpropel = 0
        doublejump = 0
        if (collision_point(x, (y - 17), obj_lava_water, 0, 0) &amp;&amp; (!collision_point(x, (y - 16), obj_lava_water, 0, 0)))
        {
            vspeed = 0
            if (global.apariencia != 0)
            {
                with (instance_create(x, (y + 7), obj_smoke))
                {
                    if (global.apariencia == 1)
                        sprite_index = spr_SMB3_splash
                    else if (global.apariencia == 2)
                        sprite_index = spr_splash
                    depth = -10
                }
            }
        }
        isfloating = 0
        if (floatnow == 1)
        {
            audio_stop_sound(snd_spin)
            floatnow = 0
        }
        if (state &gt; 2)
            state = 2
    }
    if (y &lt; -96)
        y = -96
    else if (((bbox_top - 32) &gt; room_height) &amp;&amp; (global.bg_level != "castle"))
    {
        if ((global.powerup == 24) &amp;&amp; (doublejump != -1))
        {
            doublejump = -1
            vspeed = -4.5
            y -= 8
            jumpnow = 1
            audio_play_sound(snd_jump, 0, false)
            audio_play_sound(snd_stomp, 0, false)
        }
        else
        {
            with (instance_create(x, (room_height - 32), obj_deadmario))
                visible = 0
            instance_destroy()
        }
    }
    else if ((instance_exists(obj_lava_water) &amp;&amp; (((global.bg_level == "castle") || ((global.bg_level == "forest") &amp;&amp; (global.modo_noche == 1))) &amp;&amp; (((y + 32) &gt;= obj_lava_water.y) &amp;&amp; (!instance_exists(obj_kuribo_drybones))))) || (instance_exists(obj_lava_water) &amp;&amp; (((global.bg_level == "castle") || ((global.bg_level == "forest") &amp;&amp; (global.modo_noche == 1))) &amp;&amp; (((y + 32) &gt;= (obj_lava_water.y + 12)) &amp;&amp; instance_exists(obj_kuribo_drybones)))))
    {
        instance_create(x, y, obj_deadmario)
        instance_destroy()
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="18">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="17">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>iamkicking = 1
image_index = 0
if (global.apariencia != 3)
    alarm[6] = 16
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="16">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (invincible != -1)
{
    invincible = 1
    alarm[1] = 1
    alarm[3] = 120
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="15">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (((global.powerup != -41) &amp;&amp; ((global.powerup != -42) &amp;&amp; (global.powerup != -43))) || (((global.powerup == -41) &amp;&amp; (((direct == 1) &amp;&amp; (!collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_solid, 1, 0))) || ((direct == -1) &amp;&amp; (!collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_solid, 1, 0))))) || (((global.powerup != -41) &amp;&amp; (((direct == -1) &amp;&amp; (keyboard_check(global.izquierda) || (!collision_rectangle(bbox_right, (bbox_top + 4), (bbox_right + 1), (bbox_bottom - 1), obj_solid, 1, 0)))) || ((direct == 1) &amp;&amp; (keyboard_check(global.derecha) || (!collision_rectangle((bbox_left - 1), (bbox_top + 4), bbox_left, (bbox_bottom - 1), obj_solid, 1, 0)))))) || (collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_solidtop, 0, 0) || collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_slopeparent, 1, 0)))))
{
    state = 2
    jumpnow = 0
    exit
}
if (global.powerup == -41)
{
    if (keyboard_check(global.arriba) &amp;&amp; ((!keyboard_check(global.abajo)) &amp;&amp; (disablecontrols == 0)))
        vspeed = -1
    else if (keyboard_check(global.abajo) &amp;&amp; ((!keyboard_check(global.arriba)) &amp;&amp; (disablecontrols == 0)))
        vspeed = 1
    else
        vspeed = 0
}
else if (global.powerup != -43)
    vspeed = 1
if (keyboard_check_pressed(global.saltar) &amp;&amp; (disablecontrols == 0))
{
    vspeed = -3.75
    audio_play_sound(snd_jump, 0, false)
    jumpnow = 1
    state = 2
    if (global.powerup == -41)
        direct = (-direct)
    else
    {
        audio_play_sound(snd_stomp, 0, false)
        instance_create(x, (y + 32), obj_spinthump)
    }
    hspeed = (3 * direct)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="14">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var liana_right, liana_left;
if (disablecontrols == 0)
{
    if (global.apariencia == 0)
    {
        jumpnow = 0
        if keyboard_check_pressed(global.derecha)
        {
            liana_right = collision_point((x + 16), (y + 18), obj_climb, 0, 0)
            if ((direct == -1) &amp;&amp; (liana_right &amp;&amp; ((!collision_point((x + 16), (y + 18), obj_solid, 0, 0)) &amp;&amp; ((!collision_point((x + 16), (y + 18), obj_pinchos, 0, 0)) &amp;&amp; ((!collision_point((x + 16), (y + 18), obj_bullebill_base, 0, 0)) &amp;&amp; ((!collision_point((x + 16), (y + 18), obj_muncher, 0, 0)) &amp;&amp; ((!collision_point((x + 16), (y + 18), obj_cannon, 0, 0)) &amp;&amp; (!collision_point((x + 16), (y + 18), obj_onewaygate_right, 0, 0)))))))))
            {
                x = (liana_right.x + 8)
                direct = 1
            }
            else
                direct = -1
        }
        else if keyboard_check_pressed(global.izquierda)
        {
            liana_left = collision_point((x - 16), (y + 18), obj_climb, 0, 0)
            if ((direct == 1) &amp;&amp; (liana_left &amp;&amp; ((!collision_point((x - 16), (y + 18), obj_solid, 0, 0)) &amp;&amp; ((!collision_point((x - 16), (y + 18), obj_pinchos, 0, 0)) &amp;&amp; ((!collision_point((x - 16), (y + 18), obj_bullebill_base, 0, 0)) &amp;&amp; ((!collision_point((x - 16), (y + 18), obj_muncher, 0, 0)) &amp;&amp; ((!collision_point((x - 16), (y + 18), obj_cannon, 0, 0)) &amp;&amp; (!collision_point((x - 16), (y + 18), obj_onewaygate_left, 0, 0)))))))))
            {
                x = (liana_left.x + 8)
                direct = -1
            }
            else
                direct = 1
        }
        if (keyboard_check(global.arriba) &amp;&amp; (!keyboard_check(global.abajo)))
        {
            if (!collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_climb, 0, 0))
                vspeed = 0
            else if keyboard_check(global.lanzar_agarrar)
                vspeed = -1.5
            else
                vspeed = -1
        }
        else if (keyboard_check(global.abajo) &amp;&amp; (!keyboard_check(global.arriba)))
        {
            if keyboard_check(global.lanzar_agarrar)
                vspeed = 1.5
            else
                vspeed = 1
            if (collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_solidtop, 0, 0) || collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_block_pow_hold, 0, 0))
            {
                state = 0
                jumpnow = 0
            }
        }
        else
            vspeed = 0
        if (keyboard_check_pressed(global.saltar) || keyboard_check_pressed(global.saltar_spin))
        {
            if (direct == 1)
                x -= 6
            else
                x += 6
            audio_play_sound(scr_jump(), 0, false)
            state = 2
            jumpnow = 1
            if ((global.bg_level == "underwater") || (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "sky")) || (instance_exists(obj_lava_water) &amp;&amp; ((y &gt; (obj_lava_water.y + 16)) &amp;&amp; ((global.bg_level == "forest") &amp;&amp; (global.modo_noche == 0))))))
                vspeed = -1.8
            else
                vspeed = -3.75
            direct = (-direct)
        }
        if (!collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_bottom, obj_climb, 0, 0))
        {
            if (vspeed &lt; 0)
                vspeed = 0
            else
                state = 2
        }
    }
    else
    {
        if (keyboard_check(global.derecha) &amp;&amp; (!keyboard_check(global.izquierda)))
        {
            hspeed += 0.15
            if keyboard_check(global.lanzar_agarrar)
            {
                if (hspeed &gt; 1.5)
                    hspeed = 1.5
            }
            else if (hspeed &gt; 1)
                hspeed = 1
            direct = 1
        }
        else if (keyboard_check(global.izquierda) &amp;&amp; (!keyboard_check(global.derecha)))
        {
            hspeed += -0.15
            if keyboard_check(global.lanzar_agarrar)
            {
                if (hspeed &lt; -1.5)
                    hspeed = -1.5
            }
            else if (hspeed &lt; -1)
                hspeed = -1
            direct = -1
        }
        else
            hspeed = 0
        if (keyboard_check(global.arriba) &amp;&amp; (!keyboard_check(global.abajo)))
        {
            if (!collision_rectangle(bbox_left, (bbox_top - 1), bbox_right, (bbox_top - 1), obj_solid, 0, 0))
            {
                if (!collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_climb, 0, 0))
                    vspeed = 0
                else
                {
                    vspeed += -0.15
                    if keyboard_check(global.lanzar_agarrar)
                    {
                        if (vspeed &lt; -1.5)
                            vspeed = -1.5
                    }
                    else if (vspeed &lt; -1)
                        vspeed = -1
                }
            }
        }
        else if (keyboard_check(global.abajo) &amp;&amp; (!keyboard_check(global.arriba)))
        {
            vspeed += 0.15
            if keyboard_check(global.lanzar_agarrar)
            {
                if (vspeed &gt; 1.5)
                    vspeed = 1.5
            }
            else if (vspeed &gt; 1)
                vspeed = 1
            if (collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_solidtop, 0, 0) || collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_block_pow_hold, 0, 0))
            {
                state = 0
                jumpnow = 0
            }
        }
        else
            vspeed = 0
        if (keyboard_check_pressed(global.saltar) || keyboard_check_pressed(global.saltar_spin))
        {
            if ((global.bg_level == "underwater") || (((global.modo_noche == 1) &amp;&amp; (global.bg_level == "sky")) || (instance_exists(obj_lava_water) &amp;&amp; ((y &gt; (obj_lava_water.y + 16)) &amp;&amp; ((global.bg_level == "forest") &amp;&amp; (global.modo_noche == 0))))))
                vspeed = -1.8
            else
                vspeed = -3.75
            audio_play_sound(scr_jump(), 0, false)
            jumpnow = 1
            state = 2
        }
        if (!collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_bottom, obj_climb, 0, 0))
            state = 2
    }
}
else
    speed = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var enemigo, hold, nube, colthwomps, col_solidtop, col_pinchos, col_enemigos, climb1;
if ((global.apariencia == 4) &amp;&amp; (scr_canpull() &amp;&amp; ((!instance_exists(obj_puller)) &amp;&amp; (holding == 0))))
{
    enemigo = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_enemyparent, 0, 0)
    hold = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_holdparent, 0, 0)
    nube = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_nube, 0, 0)
    if nube
    {
        audio_play_sound(snd_SMB2_get, 0, false)
        c_nube = instance_create(x, y, obj_puller)
        c_nube.cloud = 1
        c_nube.obj = nube.id
    }
    else if (enemigo &amp;&amp; ((enemigo.hardness &lt; 99) || (enemigo.object_index == obj_banzaibill)))
    {
        audio_play_sound(snd_SMB2_get, 0, false)
        c_enemy = instance_create(x, y, obj_puller)
        c_enemy.enemy = 1
        c_enemy.obj = enemigo.id
    }
    else if (hold &amp;&amp; ((hold.object_index != obj_pswitch) &amp;&amp; (hold.object_index != obj_spring)))
    {
        audio_play_sound(snd_SMB2_get, 0, false)
        c_enemy = instance_create(x, y, obj_puller)
        c_enemy.held = 1
        c_enemy.obj = hold.id
    }
    else if (global.bg_level == "snow")
    {
        audio_play_sound(snd_SMB2_get, 0, false)
        with (instance_create(x, y, obj_puller))
            snowball = 1
    }
    else if (global.powerup == -80)
    {
        audio_play_sound(snd_SMB2_get, 0, false)
        instance_create(x, y, obj_puller)
    }
}
colthwomps = collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_thwomp, 0, 0)
col_solidtop = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_solidtop, 0, 0)
col_pinchos = collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_pinchos, 0, 0)
col_enemigos = collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_enemyparent, 0, 0)
if (((col_solidtop &amp;&amp; ((y + 32) &lt; (col_solidtop.y + 8))) || (collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_slopeparent, 1, 0) || (collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_block_pow_hold, 0, 0) || ((colthwomps &amp;&amp; ((colthwomps.y &gt; y) &amp;&amp; (global.yoshi &gt; 0))) || ((colthwomps &amp;&amp; ((colthwomps.y &gt; y) &amp;&amp; ((invincible == 1) &amp;&amp; ((!instance_exists(obj_invincibility)) &amp;&amp; (stompstyle == 0))))) || ((collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_muncher, 0, 0) &amp;&amp; (global.yoshi &gt; 0)) || ((collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_muncher, 0, 0) &amp;&amp; (invincible == 1)) || ((col_enemigos &amp;&amp; ((global.apariencia == 4) &amp;&amp; ((col_enemigos.stomp != 1) &amp;&amp; ((col_enemigos.stomp != 2) &amp;&amp; (col_enemigos.stomp != 5))))) || ((collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_lava_water_drybones, 0, 0) &amp;&amp; instance_exists(obj_kuribo_drybones)) || ((col_pinchos &amp;&amp; (global.yoshi &gt; 0)) || ((col_pinchos &amp;&amp; (invincible == 1)) || (col_pinchos &amp;&amp; instance_exists(obj_invincibility))))))))))))) &amp;&amp; (gravity == 0))
{
    if (col_solidtop &amp;&amp; ((y != (col_solidtop.y - 32)) &amp;&amp; (((y + 32) &lt; (col_solidtop.y + 10)) &amp;&amp; (((y + 32) &gt; col_solidtop.y) &amp;&amp; (!instance_exists(obj_mario_transform2))))))
        y = (col_solidtop.y - 32)
    if (col_pinchos &amp;&amp; ((y != (col_pinchos.y - 32)) &amp;&amp; (((y + 32) &lt; (col_pinchos.y + 10)) &amp;&amp; (((y + 32) &gt; col_pinchos.y) &amp;&amp; (!instance_exists(obj_mario_transform2))))))
        y = (col_pinchos.y - 32)
    if (hspeed == 0)
        state = 0
    else
        state = 1
    statedelay = 0
    if ((instance_exists(obj_levelmanager) &amp;&amp; ((inplatform == 0) &amp;&amp; (collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_plataforma, 0, 0) || collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_plataforma_blue, 0, 0)))) || (collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_donut, 0, 0) || collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_estalactita, 0, 0)))
    {
        with (obj_levelmanager)
            fallw = 1
        inplatform = 1
    }
}
else
{
    if (statedelay &gt; 4)
        state = 2
    else
        statedelay++
    gravity = 0.05
}
if ((global.powerup == -29) &amp;&amp; (holding == 0))
{
    ygrav = 0
    if keyboard_check(global.lanzar_agarrar)
        xspeedmax = 2
    else
        xspeedmax = 1
    if (keyboard_check(global.leftkey) &amp;&amp; ((!crouch) &amp;&amp; (!keyboard_check(global.rightkey))))
    {
        xspeed += -0.2
        xscale = -1
        swimtype = 0
    }
    else if (keyboard_check(global.rightkey) &amp;&amp; ((!crouch) &amp;&amp; (!keyboard_check(global.leftkey))))
    {
        xspeed += 0.2
        xscale = 1
        swimtype = 0
    }
    else
    {
        xspeed = (max(0, (abs(xspeed) - 0.2)) * sign(xspeed))
        if ((xspeed &lt; 0.2) &amp;&amp; (xspeed &gt; -0.2))
            xspeed = 0
    }
    if keyboard_check(global.upkey)
    {
        yspeed += -0.2
        if (xspeed == 0)
            swimtype = 1
    }
    else if keyboard_check(global.downkey)
    {
        if (xspeed == 0)
            swimtype = 2
        if (collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_semisolid, 0, 0) || collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_slopeparent, 1, 0))
            yspeed = 0
        else
            yspeed += 0.2
    }
    else
    {
        yspeed = (max(0, (abs(yspeed) - 0.2)) * sign(yspeed))
        if ((yspeed &lt; 0.2) &amp;&amp; (yspeed &gt; -0.2))
            yspeed = 0
    }
    if (xspeed &gt; xspeedmax)
        xspeed = xspeedmax
    if (xspeed &lt; (-xspeedmax))
        xspeed = (-xspeedmax)
    if (yspeed &gt; xspeedmax)
        yspeed = xspeedmax
    if (yspeed &lt; (-xspeedmax))
        yspeed = (-xspeedmax)
}
else
{
    if (vspeed &gt; 1)
        vspeed = 1
    if ((keyboard_check_pressed(global.saltar) || keyboard_check_pressed(global.saltar_spin)) &amp;&amp; (disablecontrols == 0))
    {
        vspeed = -1
        audio_play_sound(scr_swim(), 0, false)
        state = 2
        isduck = 0
        isduckhold = 0
    }
    if (keyboard_check_pressed(global.saltar_spin) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((holding == 3) &amp;&amp; (global.yoshi &gt; 0))))
    {
        vspeed = -1
        audio_play_sound(scr_swim(), 0, false)
        state = 2
        isduck = 0
        isduckhold = 0
        global.yoshi = 0
        holding = 0
        if instance_exists(obj_yoshi2)
        {
            with (obj_yoshi2)
                event_user(1)
        }
        if instance_exists(obj_kuriboshoe)
        {
            stompstyle = 0
            with (obj_kuriboshoe)
                event_user(0)
        }
    }
    if (keyboard_check(global.derecha) &amp;&amp; ((!keyboard_check(global.izquierda)) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((isduck == 0) || (state == 2)))))
    {
        hspeed += 0.06
        direct = 1
    }
    else if (keyboard_check(global.izquierda) &amp;&amp; ((!keyboard_check(global.derecha)) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((isduck == 0) || (state == 2)))))
    {
        hspeed += -0.06
        direct = -1
    }
    else
    {
        if (hspeed &gt; 0)
            hspeed -= 0.05
        if (hspeed &lt; 0)
            hspeed += 0.05
        if (abs(hspeed) &lt; 0.05)
            hspeed = 0
    }
    if (state == 2)
    {
        if (hspeed &gt; 1)
            hspeed = 1
        if (hspeed &lt; -1)
            hspeed = -1
    }
    else
    {
        if (hspeed &gt; 0.5)
            hspeed = 0.5
        if (hspeed &lt; -0.5)
            hspeed = -0.5
    }
}
if (noisy == 1)
{
    noisy = 0
    audio_stop_sound(scr_swim())
}
if (global.apariencia == 0)
{
    climb1 = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_bottom, obj_climb, 0, 0)
    if (climb1 &amp;&amp; (((((y + 19) &gt; climb1.y) &amp;&amp; ((climb1.object_index == obj_vine_green) &amp;&amp; (climb1.image_index == 0))) || ((climb1.object_index != obj_vine_green) || (climb1.image_index != 0))) &amp;&amp; ((global.yoshi == 0) &amp;&amp; ((isduck == 0) &amp;&amp; ((keyboard_check(global.arriba) || (keyboard_check(global.abajo) &amp;&amp; (state == 2))) &amp;&amp; (disablecontrols == 0))))))
    {
        if (hspeed &gt; 0)
            direct = 1
        else if (hspeed &lt; 0)
            direct = -1
        x = (climb1.x + 8)
        state = 3
        speed = 0
        gravity = 0
        canhang = 1
        alarm[6] = 8
    }
}
else
{
    climb1 = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_bottom, obj_climb, 0, 0)
    if (climb1 &amp;&amp; (((((y + 19) &gt; climb1.y) &amp;&amp; ((climb1.object_index == obj_vine_green) &amp;&amp; (climb1.image_index == 0))) || ((climb1.object_index != obj_vine_green) || (climb1.image_index != 0))) &amp;&amp; ((global.yoshi == 0) &amp;&amp; ((isduck == 0) &amp;&amp; ((keyboard_check(global.arriba) || (keyboard_check(global.abajo) &amp;&amp; (state == 2))) &amp;&amp; ((holding == 0) &amp;&amp; (disablecontrols == 0)))))))
    {
        state = 3
        gravity = 0
        speed = 0
        isfloating = 0
        powerupfly = 0
        walljump = 0
        squirrelpropel = 0
        doublejump = 0
        if (floatnow == 1)
        {
            audio_stop_sound(snd_spin)
            floatnow = 0
        }
    }
}
if (instance_exists(obj_lava_water) &amp;&amp; ((global.bg_level == "forest") &amp;&amp; ((global.modo_noche == 0) &amp;&amp; ((y + 16) &lt;= (obj_lava_water.y - 4)))))
{
    isswim = 0
    if place_meeting(x, (y + 16), obj_lava_water)
    {
        if ((global.apariencia != 0) &amp;&amp; (vspeed &gt; 0))
        {
            with (instance_create(x, (y + 7), obj_smoke))
            {
                if (global.apariencia == 1)
                    sprite_index = spr_SMB3_splash
                else if (global.apariencia == 2)
                    sprite_index = spr_splash
                depth = -10
            }
        }
        if keyboard_check(global.saltar)
        {
            vspeed = -4.125
            jumpnow = 1
            if (global.apariencia != 0)
            {
                with (instance_create(x, (y + 7), obj_smoke))
                {
                    if (global.apariencia == 1)
                        sprite_index = spr_SMB3_splash
                    else if (global.apariencia == 2)
                        sprite_index = spr_splash
                    depth = -10
                }
            }
        }
    }
    if (noisy == 1)
    {
        noisy = 0
        audio_stop_sound(scr_swim())
    }
}
if (global.yoshi != 2)
    stompstyle = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="12">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var colthwomps, col_solidtop, col_pinchos, col_enemigos, enemigo, hold, nube, suelo_nieve, start_nieve, goal_nieve, climb1;
colthwomps = collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_thwomp, 0, 0)
col_solidtop = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_solidtop, 0, 0)
col_pinchos = collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_pinchos, 0, 0)
col_enemigos = collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_enemyparent, 0, 0)
if (((col_solidtop &amp;&amp; ((y + 32) &lt; (col_solidtop.y + 8))) || (collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_slopeparent, 1, 0) || (collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_block_pow_hold, 0, 0) || ((colthwomps &amp;&amp; ((colthwomps.y &gt; y) &amp;&amp; (global.yoshi &gt; 0))) || ((colthwomps &amp;&amp; ((colthwomps.y &gt; y) &amp;&amp; ((invincible == 1) &amp;&amp; ((!instance_exists(obj_invincibility)) &amp;&amp; (stompstyle == 0))))) || ((collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_muncher, 0, 0) &amp;&amp; (global.yoshi &gt; 0)) || ((collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_muncher, 0, 0) &amp;&amp; (invincible == 1)) || ((col_enemigos &amp;&amp; ((global.apariencia == 4) &amp;&amp; ((col_enemigos.stomp != 1) &amp;&amp; ((col_enemigos.stomp != 2) &amp;&amp; (col_enemigos.stomp != 5))))) || ((collision_rectangle(bbox_left, (bbox_bottom + 1), bbox_right, (bbox_bottom + 1), obj_lava_water_drybones, 0, 0) &amp;&amp; instance_exists(obj_kuribo_drybones)) || ((col_pinchos &amp;&amp; (global.yoshi &gt; 0)) || ((col_pinchos &amp;&amp; (invincible == 1)) || (col_pinchos &amp;&amp; instance_exists(obj_invincibility))))))))))))) &amp;&amp; (gravity == 0))
{
    if (col_solidtop &amp;&amp; ((y != (col_solidtop.y - 32)) &amp;&amp; (((y + 32) &lt; (col_solidtop.y + 10)) &amp;&amp; (((y + 32) &gt; col_solidtop.y) &amp;&amp; (!instance_exists(obj_mario_transform2))))))
        y = (col_solidtop.y - 32)
    if (col_pinchos &amp;&amp; ((y != (col_pinchos.y - 32)) &amp;&amp; (((y + 32) &lt; (col_pinchos.y + 10)) &amp;&amp; (((y + 32) &gt; col_pinchos.y) &amp;&amp; (!instance_exists(obj_mario_transform2))))))
        y = (col_pinchos.y - 32)
    audio_stop_sound(snd_SMB_hen_jump_fall)
    s_hen = 0
    if (hspeed == 0)
        state = 0
    else
        state = 1
    statedelay = 0
    if ((instance_exists(obj_levelmanager) &amp;&amp; ((inplatform == 0) &amp;&amp; (collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_plataforma, 0, 0) || collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_plataforma_blue, 0, 0)))) || (collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_donut, 0, 0) || collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_estalactita, 0, 0)))
        inplatform = 1
}
else
{
    inplatform = 0
    if (statedelay &gt; 4)
        state = 2
    else
        statedelay++
}
if (vspeed &gt; 4)
    vspeed = 4
if ((global.apariencia == 4) &amp;&amp; (state == 0))
{
    if keyboard_check(global.abajo)
    {
        if (jump_loaded &lt; 60)
            jump_loaded++
        else
            jump_loaded = 60
    }
    else
        jump_loaded = 0
}
else
    jump_loaded = 0
if ((global.apariencia == 4) &amp;&amp; (scr_canpull() &amp;&amp; ((!instance_exists(obj_puller)) &amp;&amp; (holding == 0))))
{
    enemigo = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_enemyparent, 0, 0)
    hold = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_holdparent, 0, 0)
    nube = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_nube, 0, 0)
    suelo_nieve = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_modelsolid, 0, 0)
    start_nieve = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_ground2, 0, 0)
    goal_nieve = collision_rectangle(bbox_left, bbox_bottom, bbox_right, (bbox_bottom + 1), obj_ground3, 0, 0)
    if nube
    {
        speed = 0
        audio_play_sound(snd_SMB2_get, 0, false)
        c_nube = instance_create(x, y, obj_puller)
        c_nube.cloud = 1
        c_nube.obj = nube.id
    }
    else if (enemigo &amp;&amp; ((enemigo.hardness &lt; 99) || (enemigo.object_index == obj_banzaibill)))
    {
        speed = 0
        audio_play_sound(snd_SMB2_get, 0, false)
        c_enemy = instance_create(x, y, obj_puller)
        c_enemy.enemy = 1
        c_enemy.obj = enemigo.id
    }
    else if (hold &amp;&amp; ((hold.object_index != obj_pswitch) &amp;&amp; (hold.object_index != obj_spring)))
    {
        speed = 0
        audio_play_sound(snd_SMB2_get, 0, false)
        c_enemy = instance_create(x, y, obj_puller)
        c_enemy.held = 1
        c_enemy.obj = hold.id
    }
    else if (global.bg_level == "snow")
    {
        if (suelo_nieve || (start_nieve || goal_nieve))
        {
            speed = 0
            audio_play_sound(snd_SMB2_get, 0, false)
            with (instance_create(x, y, obj_puller))
                snowball = 1
        }
    }
    else if (global.powerup == -80)
    {
        speed = 0
        audio_play_sound(snd_SMB2_get, 0, false)
        instance_create(x, y, obj_puller)
    }
}
if keyboard_check(global.lanzar_agarrar)
{
    if instance_exists(obj_invincibility)
        hspeedmax = 4
    else
        hspeedmax = 3
}
else if instance_exists(obj_invincibility)
    hspeedmax = 2.3
else
    hspeedmax = 1.3
if (keyboard_check_pressed(global.saltar) &amp;&amp; ((disablecontrols == 0) &amp;&amp; (((jumpnow == 0) &amp;&amp; (state &lt; 2)) || ((global.powerup == -30) &amp;&amp; ((stompstyle == 0) &amp;&amp; ((isduck == 0) &amp;&amp; (holding == 0)))))))
{
    if (abs(hspeed) &gt; 2.8)
    {
        if ((global.bg_level == "sky") &amp;&amp; (global.modo_noche == 1))
        {
            if (global.powerup == -78)
                vspeed = -3.8
            else
                vspeed = -3.3
        }
        else if (global.powerup == -78)
            vspeed = -4.8
        else
            vspeed = -4.3
    }
    else if ((global.bg_level == "sky") &amp;&amp; (global.modo_noche == 1))
    {
        if (global.powerup == -78)
        {
            if (round((hspeed / 2)) == 0)
                vspeed = -3.45
            else
                vspeed = -3.55
        }
        else if (jump_loaded == 60)
            vspeed = -3.6
        else if (round((hspeed / 2)) == 0)
            vspeed = -2.85
        else
            vspeed = -2.95
    }
    else if (global.powerup == -78)
    {
        if (round((hspeed / 2)) == 0)
            vspeed = -4.45
        else
            vspeed = -4.55
    }
    else if (jump_loaded == 60)
        vspeed = -4.5
    else if (round((hspeed / 2)) == 0)
        vspeed = -3.95
    else
        vspeed = -4.05
    audio_play_sound(scr_jump(), 0, false)
    jumpnow = 1
    s_hen = 1
    state = 2
}
if ((keyboard_check_pressed(global.saltar_spin) &amp;&amp; (((global.apariencia == 2) || (global.apariencia == 3)) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((holding == 0) &amp;&amp; ((isduck == 0) &amp;&amp; ((jumpnow == 0) &amp;&amp; (state &lt; 2))))))) || (keyboard_check_pressed(global.saltar_spin) &amp;&amp; (((global.apariencia == 2) || (global.apariencia == 3)) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((holding == 3) &amp;&amp; ((isduck == 0) &amp;&amp; ((global.yoshi &gt; 0) &amp;&amp; ((vspeed == 0) &amp;&amp; ((jumpnow == 0) &amp;&amp; (state &lt; 2))))))))))
{
    image_index = 0
    if (abs(hspeed) &gt; 2.8)
    {
        if ((global.bg_level == "sky") &amp;&amp; (global.modo_noche == 1))
            vspeed = -2.3
        else
            vspeed = -3.3
    }
    else if ((global.bg_level == "sky") &amp;&amp; (global.modo_noche == 1))
    {
        if (round((hspeed / 2)) == 0)
            vspeed = -2.3
        else
            vspeed = -2.3
    }
    else if (round((hspeed / 2)) == 0)
        vspeed = -3.3
    else
        vspeed = -3.3
    jumpnow = 1
    s_hen = 1
    state = 2
    isduck = 0
    y--
    stompstyle = 1
    audio_play_sound(scr_snd_spinjump(), 0, false)
    alarm[7] = 10
    if (global.yoshi == 2)
    {
        global.yoshi = 0
        holding = 0
        if instance_exists(obj_kuriboshoe)
        {
            with (obj_kuriboshoe)
                event_user(0)
        }
    }
    else if (global.yoshi &gt; 0)
    {
        global.yoshi = 0
        holding = 0
        if (direct &gt; 0)
            hspeed = -1.2
        else
            hspeed = 1.2
        if instance_exists(obj_yoshi2)
        {
            with (obj_yoshi2)
                event_user(1)
        }
    }
}
else if ((keyboard_check_pressed(global.saltar_spin) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((holding == 2) &amp;&amp; ((jumpnow == 0) &amp;&amp; (state &lt; 2))))) || ((keyboard_check_pressed(global.saltar_spin) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((holding == 3) &amp;&amp; ((global.yoshi &gt; 0) &amp;&amp; ((vspeed != 0) &amp;&amp; ((global.apariencia == 2) &amp;&amp; (state == 2))))))) || ((keyboard_check_pressed(global.saltar_spin) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((holding == 3) &amp;&amp; ((global.yoshi &gt; 0) &amp;&amp; (global.apariencia != 2))))) || (keyboard_check_pressed(global.saltar_spin) &amp;&amp; ((disablecontrols == 0) &amp;&amp; (((jumpnow == 0) &amp;&amp; (state &lt; 2)) &amp;&amp; (global.apariencia != 2)))))))
{
    if (abs(hspeed) &gt; 2.8)
    {
        if (global.powerup == -78)
            vspeed = -4.8
        else
            vspeed = -4.3
    }
    else if ((global.yoshi &gt; 0) &amp;&amp; (isswim == 1))
        vspeed = -2.16
    else if (global.powerup == -78)
    {
        if (round((hspeed / 2)) == 0)
            vspeed = -4.45
        else
            vspeed = -4.55
    }
    else if (round((hspeed / 2)) == 0)
        vspeed = -3.95
    else
        vspeed = -4.05
    audio_play_sound(scr_jump(), 0, false)
    jumpnow = 1
    s_hen = 1
    state = 2
    if (global.yoshi &gt; 0)
    {
        global.yoshi = 0
        holding = 0
        if instance_exists(obj_yoshi2)
        {
            with (obj_yoshi2)
                event_user(1)
        }
        if instance_exists(obj_kuriboshoe)
        {
            stompstyle = 0
            with (obj_kuriboshoe)
                event_user(0)
        }
    }
}
if ((keyboard_check_released(global.saltar) &amp;&amp; (jumpnow == 1)) || (keyboard_check_released(global.saltar_spin) &amp;&amp; (jumpnow == 1)))
    jumpnow = 2
if ((isduck == 1) &amp;&amp; (state != 2))
{
    if (snow == 1)
    {
        if (hspeed &gt; 0)
            hspeed -= 0.01
        if (hspeed &lt; 0)
            hspeed += 0.01
        if (abs(hspeed) &lt; 0.01)
            hspeed = 0
    }
    else
    {
        if (hspeed &gt; 0)
            hspeed -= 0.05
        if (hspeed &lt; 0)
            hspeed += 0.05
        if (abs(hspeed) &lt; 0.05)
            hspeed = 0
    }
}
else
{
    if (keyboard_check(global.derecha) &amp;&amp; ((!keyboard_check(global.izquierda)) &amp;&amp; ((disablecontrols == 0) &amp;&amp; (modo_vuelo == 0))))
    {
        if (((holding == 2) &amp;&amp; ((direct != 1) &amp;&amp; ((stompstyle == 0) &amp;&amp; (global.apariencia == 2)))) || ((global.apariencia == 3) &amp;&amp; (direct != 1)))
        {
            turning = 1
            alarm[11] = 7
        }
        if (hspeed &lt; hspeedmax)
        {
            if (isslip == 1)
                hspeed += 0.04
            else if ((snow == 1) &amp;&amp; (gravity == 0))
            {
                if (hspeed &lt; 0)
                    hspeed += 0.04
                else
                    hspeed += 0.06
            }
            else
            {
                if (hspeed &lt; 0)
                    hspeed += 0.07
                hspeed += 0.06
            }
        }
        if ((walljump == 0) &amp;&amp; ((modo_vuelo == 0) &amp;&amp; ((global.apariencia != 0) || ((global.apariencia == 0) &amp;&amp; (state != 2)))))
            direct = 1
    }
    else if (keyboard_check(global.izquierda) &amp;&amp; ((!keyboard_check(global.derecha)) &amp;&amp; ((disablecontrols == 0) &amp;&amp; (modo_vuelo == 0))))
    {
        if (((holding == 2) &amp;&amp; ((direct != -1) &amp;&amp; ((stompstyle == 0) &amp;&amp; (global.apariencia == 2)))) || ((global.apariencia == 3) &amp;&amp; (direct != -1)))
        {
            turning = 1
            alarm[11] = 7
        }
        if (hspeed &gt; (-hspeedmax))
        {
            if (isslip == 1)
                hspeed -= 0.04
            else if ((snow == 1) &amp;&amp; (gravity == 0))
            {
                if (hspeed &gt; 0)
                    hspeed += -0.04
                else
                    hspeed += -0.06
            }
            else
            {
                if (hspeed &gt; 0)
                    hspeed += -0.07
                hspeed += -0.06
            }
        }
        if ((walljump == 0) &amp;&amp; ((modo_vuelo == 0) &amp;&amp; ((global.apariencia != 0) || ((global.apariencia == 0) &amp;&amp; (state != 2)))))
            direct = -1
    }
    else if (state != 2)
    {
        if (isslip == 0)
        {
            if (snow == 1)
            {
                if (hspeed &gt; 0)
                    hspeed -= 0.005
                if (hspeed &lt; 0)
                    hspeed += 0.005
                if (abs(hspeed) &lt; 0.005)
                    hspeed = 0
            }
            else
            {
                if (hspeed &gt; 0)
                    hspeed -= 0.05
                else if (hspeed &lt; 0)
                    hspeed += 0.05
                if (abs(hspeed) &lt; 0.05)
                    hspeed = 0
            }
        }
        else
        {
            if (hspeed &gt; 0)
                hspeed -= 0.025
            else if (hspeed &lt; 0)
                hspeed += 0.025
            if (abs(hspeed) &lt; 0.025)
                hspeed = 0
        }
    }
    if ((state != 2) &amp;&amp; (abs(hspeed) &gt; hspeedmax))
    {
        if (hspeed &gt; 0)
            hspeed -= 0.025
        else if (hspeed &lt; 0)
            hspeed += 0.025
        if (abs(hspeed) &lt; 0.025)
            hspeed = 0
    }
}
if ((state == 2) || (statedelay &gt; 0))
{
    if ((global.modo_noche == 1) &amp;&amp; (global.bg_level == "sky"))
    {
        if (global.powerup == -39)
        {
            if (ygrav == 1)
                gravity = 0.05
            else if (pmeter &gt; 5)
                gravity = 0
            else
                gravity = 0.02
        }
        else
            gravity = 0.05
        if (vspeed &gt; 1)
            vspeed = 1
    }
    else if ((vspeed &gt; -1) || (jumpnow != 1))
    {
        if (global.powerup == -39)
        {
            if (ygrav == 1)
                gravity = 0.3
            else if (pmeter &gt; 5)
                gravity = 0
            else
                gravity = 0.15
        }
        else
            gravity = 0.3
        if (jumpnow == 1)
            jumpnow = 2
    }
    else if (ygrav == 1)
        gravity = 0.1
    else
        gravity = 0.1
    if (global.powerup == 3)
    {
        if ((keyboard_check(global.saltar) &amp;&amp; ((sprite_index != spr_mario_cap_fly_decender) &amp;&amp; ((sprite_index != spr_luigi_cap_fly_decender) &amp;&amp; ((sprite_index != spr_toad_cap_fly_decender) &amp;&amp; ((sprite_index != spr_toadette_cap_fly_decender) &amp;&amp; (place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0))))))) || (keyboard_check(global.saltar_spin) &amp;&amp; ((sprite_index != spr_mario_cap_fly_decender) &amp;&amp; ((sprite_index != spr_luigi_cap_fly_decender) &amp;&amp; ((sprite_index != spr_toad_cap_fly_decender) &amp;&amp; ((sprite_index != spr_toadette_cap_fly_decender) &amp;&amp; (place_free(x, (y + 1)) &amp;&amp; (vspeed &gt; 0))))))))
        {
            gravity /= 2
            if (vspeed &gt; 1)
                vspeed = 1
        }
    }
}
if (global.apariencia == 0)
{
    climb1 = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_bottom, obj_climb, 0, 0)
    if (climb1 &amp;&amp; (((((y + 19) &gt; climb1.y) &amp;&amp; ((climb1.object_index == obj_vine_green) &amp;&amp; (climb1.image_index == 0))) || ((climb1.object_index != obj_vine_green) || (climb1.image_index != 0))) &amp;&amp; ((isduck == 0) &amp;&amp; ((global.yoshi == 0) &amp;&amp; ((keyboard_check(global.arriba) || (keyboard_check(global.abajo) &amp;&amp; (state == 2))) &amp;&amp; (disablecontrols == 0))))))
    {
        if (hspeed &gt; 0)
            direct = 1
        else if (hspeed &lt; 0)
            direct = -1
        x = (climb1.x + 8)
        state = 3
        speed = 0
        gravity = 0
        canhang = 1
        alarm[6] = 8
    }
}
else
{
    climb1 = collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_bottom, obj_climb, 0, 0)
    if (climb1 &amp;&amp; (((((y + 19) &gt; climb1.y) &amp;&amp; ((climb1.object_index == obj_vine_green) &amp;&amp; (climb1.image_index == 0))) || ((climb1.object_index != obj_vine_green) || (climb1.image_index != 0))) &amp;&amp; ((global.yoshi == 0) &amp;&amp; ((isduck == 0) &amp;&amp; ((keyboard_check(global.arriba) || (keyboard_check(global.abajo) &amp;&amp; (state == 2))) &amp;&amp; ((holding == 0) &amp;&amp; (disablecontrols == 0)))))))
    {
        state = 3
        gravity = 0
        speed = 0
        isfloating = 0
        powerupfly = 0
        walljump = 0
        squirrelpropel = 0
        doublejump = 0
    }
}
if (stompstyle == 1)
{
    if (state != 2)
        stompstyle = 0
}
if (global.powerup == -39)
{
    if (disablegrav &gt; 0)
    {
        if (state != 2)
            disablegrav = 0
        else
        {
            ygrav = 0
            disablegrav--
        }
    }
    else
        ygrav = 1
}
else
    disablegrav = 0
if ((state == 2) &amp;&amp; ((isduck == 0) &amp;&amp; (disablecontrols == 0)))
{
    if (keyboard_check(global.saltar) &amp;&amp; ((!keyboard_check(global.saltar_spin)) &amp;&amp; ((global.powerup == 3) &amp;&amp; ((pmeter &gt; 5) &amp;&amp; ((stompstyle == 0) &amp;&amp; (canfly == 0))))))
    {
        vspeed = -3.5
        fly_cap += 2
        if (fly_cap &gt; 145)
        {
            canfly = 1
            jumpnow = 2
            fly_cap = 0
            with (obj_levelmanager)
            {
                pmeter = 0
                alarm[7] = 15
            }
            if (keyboard_check(global.lanzar_agarrar) &amp;&amp; (holding == 0))
            {
                modo_vuelo = 1
                vspeed = 0.4
            }
        }
        jumpnow = 1
    }
    if (keyboard_check_released(global.saltar) &amp;&amp; ((global.powerup == 3) &amp;&amp; ((pmeter &gt; 5) &amp;&amp; (canfly == 0))))
    {
        with (obj_levelmanager)
        {
            pmeter = 0
            alarm[7] = 15
        }
        canfly = 1
        jumpnow = 2
        fly_cap = 0
        if (keyboard_check(global.lanzar_agarrar) &amp;&amp; (holding == 0))
            modo_vuelo = 1
    }
    if ((vspeed &lt; 0) &amp;&amp; (collision_rectangle(bbox_left, bbox_top, bbox_right, bbox_top, obj_solid, 1, 0) &amp;&amp; ((global.powerup == 3) &amp;&amp; ((pmeter &gt; 5) &amp;&amp; ((canfly == 0) &amp;&amp; (stompstyle == 0))))))
    {
        with (obj_levelmanager)
        {
            pmeter = 0
            alarm[7] = 15
        }
        canfly = 1
        jumpnow = 2
        fly_cap = 0
        if (keyboard_check(global.lanzar_agarrar) &amp;&amp; (holding == 0))
            modo_vuelo = 1
    }
    if (keyboard_check_released(global.lanzar_agarrar) &amp;&amp; ((global.powerup == 3) &amp;&amp; ((modo_vuelo == 1) &amp;&amp; (canfly == 1))))
        modo_vuelo = 0
    if (keyboard_check(global.lanzar_agarrar) &amp;&amp; ((global.powerup == 3) &amp;&amp; ((modo_vuelo == 1) &amp;&amp; (canfly == 1))))
    {
        if ((keyboard_check_pressed(global.izquierda) &amp;&amp; (direct == 1)) || (keyboard_check_pressed(global.derecha) &amp;&amp; (direct == -1)))
        {
            vspeed = 3
            if ((sprite_index == spr_mario_cap_fly) || ((sprite_index == spr_luigi_cap_fly) || ((sprite_index == spr_toad_cap_fly) || (sprite_index == spr_toadette_cap_fly))))
            {
                if (image_index &gt; (image_number - 2))
                {
                    image_index = 0
                    image_speed = 0.15
                    sprite_index = scr_mario_cap_fly_acender()
                }
            }
        }
        if ((keyboard_check(global.derecha) &amp;&amp; ((!keyboard_check(global.izquierda)) &amp;&amp; (direct == 1))) || (keyboard_check(global.izquierda) &amp;&amp; ((!keyboard_check(global.derecha)) &amp;&amp; (direct == -1))))
        {
            if ((sprite_index == spr_mario_cap_fly) || ((sprite_index == spr_luigi_cap_fly) || ((sprite_index == spr_toad_cap_fly) || (sprite_index == spr_toadette_cap_fly))))
            {
                if (image_index &gt; (image_number - 1))
                {
                    image_index = 0
                    image_speed = 0.18
                    sprite_index = scr_mario_cap_fly_decender()
                }
            }
        }
        if ((keyboard_check_released(global.derecha) &amp;&amp; (direct == 1)) || (keyboard_check_released(global.izquierda) &amp;&amp; (direct == -1)))
        {
            if ((sprite_index == spr_mario_cap_fly_decender) || ((sprite_index == spr_luigi_cap_fly_decender) || ((sprite_index == spr_toad_cap_fly_decender) || (sprite_index == spr_toadette_cap_fly_decender))))
            {
                if (image_index == 2)
                {
                    image_index = 0
                    image_speed = 0.2
                    sprite_index = scr_mario_cap_fly_acender_decender()
                    fly_high = 6
                }
                else
                {
                    image_index = 0
                    image_speed = 0.15
                    sprite_index = scr_mario_cap_fly_acender()
                }
            }
        }
    }
    if (keyboard_check(global.saltar_spin) &amp;&amp; ((!keyboard_check(global.saltar)) &amp;&amp; ((global.powerup == 3) &amp;&amp; ((pmeter &gt; 5) &amp;&amp; (canfly == 0)))))
    {
        vspeed = -3.5
        fly_cap += 2
        if (fly_cap &gt; 145)
        {
            canfly = 1
            jumpnow = 2
            fly_cap = 0
        }
        jumpnow = 1
    }
    if (keyboard_check_released(global.saltar_spin) &amp;&amp; ((global.powerup == 3) &amp;&amp; ((pmeter &gt; 5) &amp;&amp; (canfly == 1))))
    {
        jumpnow = 2
        fly_cap = 0
    }
    else if (keyboard_check_released(global.saltar_spin) &amp;&amp; ((global.powerup == 3) &amp;&amp; ((pmeter &gt; 5) &amp;&amp; (canfly == 0))))
    {
        canfly = 1
        jumpnow = 2
        fly_cap = 0
    }
}
if ((state == 2) &amp;&amp; ((stompstyle == 0) &amp;&amp; ((disablecontrols == 0) &amp;&amp; ((global.yoshi == 0) || (global.yoshi == 2)))))
{
    if (((global.powerup == -39) || (global.powerup == -40)) &amp;&amp; (keyboard_check_pressed(global.saltar) &amp;&amp; ((jumpnow != 1) &amp;&amp; ((wiggle &lt; 12) &amp;&amp; (sprite_index != scr_mariojumpstar())))))
    {
        if (!audio_is_playing(snd_atack_leaf))
            audio_play_sound(snd_atack_leaf, 0, false)
        wiggle = 16
        disablegrav = 8
        if (pmeter &gt; 5)
            vspeed = -1.5
        else if (vspeed &lt; 0)
            vspeed = max((vspeed + 0.05), 0)
        else
            vspeed = 0
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (state != 3)
{
    if (keyboard_check(global.saltar) || keyboard_check(global.saltar_spin))
        jumpnow = 1
    else
        jumpnow = 2
    state = 2
    alarm[4] = 15
    if ((!collision_rectangle(bbox_left, (bbox_top - 4), bbox_right, bbox_top, obj_solid, 1, 0)) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_top - 4), bbox_right, bbox_top, obj_pinchos, 1, 0)) &amp;&amp; ((!collision_rectangle(bbox_left, (bbox_top - 4), bbox_right, bbox_top, obj_bullebill_base, 1, 0)) &amp;&amp; (!collision_rectangle(bbox_left, (bbox_top - 4), bbox_right, bbox_top, obj_muncher, 1, 0)))))
    {
        if ((global.bg_level == "underwater") || (((global.bg_level == "sky") &amp;&amp; (global.modo_noche == 1)) || (instance_exists(obj_lava_water) &amp;&amp; ((y &gt; (obj_lava_water.y + 16)) &amp;&amp; ((global.bg_level == "forest") &amp;&amp; (global.modo_noche == 0))))))
            vspeed = -2.625
        else
            vspeed = -4
        y--
    }
    if ((obj_levelmanager.pmeter &gt; 5) &amp;&amp; (global.powerup == -39))
    {
        with (obj_levelmanager)
            alarm[8] = 300
    }
    airspin = 0
    airspin_count = 0
    groundpount = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (invincible == 0)
{
    if (global.yoshi &gt; 0)
    {
        if (global.yoshi == 1)
        {
            event_user(6)
            if instance_exists(obj_yoshi_red)
            {
                with (instance_create(obj_yoshi_red.x, obj_yoshi_red.y, obj_yoshi_runaway))
                {
                    color = 1
                    if (obj_yoshi_red.mouthholder != -4)
                    {
                        mouthholder = obj_yoshi_red.mouthholder
                        mouthsprite = obj_yoshi_red.mouthsprite
                    }
                }
                with (obj_yoshi_red)
                    instance_destroy()
                vspeed = -3.5
                hspeed = 0
            }
            else if instance_exists(obj_yoshi2)
            {
                with (instance_create(obj_yoshi2.x, obj_yoshi2.y, obj_yoshi_runaway))
                {
                    if (obj_yoshi2.mouthholder != -4)
                    {
                        mouthholder = obj_yoshi2.mouthholder
                        mouthsprite = obj_yoshi2.mouthsprite
                    }
                }
                with (obj_yoshi2)
                    instance_destroy()
                vspeed = -3.5
                hspeed = 0
            }
        }
        else if (global.yoshi == 2)
        {
            event_user(6)
            with (obj_kuriboshoe)
                event_user(5)
        }
        global.yoshi = 0
        holding = 0
        visible = 1
        if ((global.condiciones == 1) &amp;&amp; (global.condiciones_count == 0))
        {
            if (global.condiciones_clear == 1)
            {
                global.condiciones_clear = 0
                if instance_exists(obj_alert_condicion)
                {
                    with (obj_alert_condicion)
                        instance_destroy()
                }
                with (instance_create((view_xview[0] + 54), (view_yview[0] + 98), obj_alert_condicion))
                {
                    sprite_index = spr_conidiones_alert_acciones2
                    image_index = 1
                }
            }
        }
    }
    else if (modo_vuelo == 0)
    {
        if (helmet == 0)
        {
            if (global.powerup == 0)
            {
                visible = 0
                instance_create(x, y, obj_deadmario)
                instance_destroy()
            }
            else if (global.powerup == 1)
            {
                audio_play_sound(scr_snd_powerdown(), 0, false)
                if instance_exists(obj_mario)
                {
                    with (instance_create(0, 0, obj_mario_transform2))
                    {
                        c_powerup = 1
                        small = 2
                        powerdown = 1
                    }
                }
            }
            else if ((global.powerup == 2) || ((global.powerup == -50) || ((global.powerup == -77) || ((global.powerup == -29) || ((global.powerup == -78) || (global.powerup == -80))))))
            {
                if (global.powerup == -50)
                {
                    if ((!audio_is_playing(scr_switchsong())) &amp;&amp; (!audio_is_playing(scr_snd_starman())))
                        audio_stop_sound(obj_levelmanager.levelmusic)
                    with (obj_levelmanager)
                    {
                        levelmusic = levelmusic_temp
                        levelmusic_temp = 0
                    }
                    if ((!audio_is_playing(scr_switchsong())) &amp;&amp; (!audio_is_playing(scr_snd_starman())))
                        audio_play_sound(obj_levelmanager.levelmusic, 1, true)
                }
                audio_play_sound(scr_snd_powerdown(), 0, false)
                if instance_exists(obj_mario)
                {
                    if instance_exists(obj_mario)
                    {
                        with (instance_create(0, 0, obj_mario_transform2))
                        {
                            c_powerup = 1
                            if (global.apariencia == 0)
                                sprite_powerup = 529
                            else if (global.apariencia == 1)
                                sprite_powerup = 1247
                            else if (global.apariencia == 2)
                                sprite_powerup = 2152
                            else if (global.apariencia == 3)
                                sprite_powerup = 3230
                            else if (global.apariencia == 4)
                                sprite_powerup = 3673
                            powerdown = 1
                        }
                    }
                }
            }
            else if (global.powerup == 3)
            {
                audio_play_sound(scr_snd_powerdown(), 0, false)
                global.powerup = 1
                if instance_exists(obj_cap_mario)
                {
                    with (obj_cap_mario)
                    {
                        cap_invisible = 1
                        visible = 0
                    }
                }
                if instance_exists(obj_mario)
                {
                    with (instance_create(0, 0, obj_mario_transform2))
                    {
                        cap = 2
                        powerdown = 1
                    }
                }
            }
            else if (global.powerup == -39)
            {
                audio_play_sound(scr_snd_powerdown(), 0, false)
                if instance_exists(obj_mario)
                {
                    if instance_exists(obj_mario)
                    {
                        with (instance_create(0, 0, obj_mario_transform2))
                        {
                            c_powerup = 1
                            sprite_powerup = 1247
                            powerdown = 1
                        }
                    }
                }
            }
        }
        else
        {
            event_user(6)
            helmet = 0
            with (obj_helmet)
                event_user(5)
            if ((global.condiciones == 1) &amp;&amp; (global.condiciones_count == 0))
            {
                if (global.condiciones_clear == 1)
                {
                    global.condiciones_clear = 0
                    if instance_exists(obj_alert_condicion)
                    {
                        with (obj_alert_condicion)
                            instance_destroy()
                    }
                    with (instance_create((view_xview[0] + 54), (view_yview[0] + 98), obj_alert_condicion))
                    {
                        sprite_index = spr_conidiones_alert_acciones2
                        image_index = 1
                    }
                }
            }
        }
    }
    else
    {
        event_user(6)
        audio_stop_sound(snd_mariocap_rise)
        modo_vuelo = 0
        stompstyle = 1
        audio_play_sound(snd_mariocap_out, 0, false)
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ((sprite_index == spr_mario_cap_fly) || ((sprite_index == spr_luigi_cap_fly) || ((sprite_index == spr_toad_cap_fly) || (sprite_index == spr_toadette_cap_fly))))
{
    image_speed = 0
    image_index = 2
}
else if ((sprite_index == spr_mario_cap_fly_acender) || ((sprite_index == spr_luigi_cap_fly_acender) || ((sprite_index == spr_toad_cap_fly_acender) || (sprite_index == spr_toadette_cap_fly_acender))))
{
    if (fly_high == 6)
    {
        vspeed = -4.8
        fly_high = 3
    }
    else if (fly_high == 3)
        vspeed = -2.8
    jumpnow = 1
    audio_play_sound(snd_mariocap_rise, 0, false)
    sprite_index = scr_mario_cap_fly()
}
else if ((sprite_index == spr_mario_cap_fly_decender) || ((sprite_index == spr_luigi_cap_fly_decender) || ((sprite_index == spr_toad_cap_fly_decender) || (sprite_index == spr_toadette_cap_fly_decender))))
{
    image_speed = 0
    image_index = 2
}
else if ((sprite_index == spr_mario_cap_fly_acender_decender) || ((sprite_index == spr_luigi_cap_fly_acender_decender) || ((sprite_index == spr_toad_cap_fly_acender_decender) || (sprite_index == spr_toadette_cap_fly_acender_decender))))
    sprite_index = scr_mario_cap_fly_acender()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ((isflashing == 1) &amp;&amp; (global.effect_star == 1))
{
    shader_set(sha_invert)
    if (flashAlpha == 0)
        flashAlpha = 0.5
    if ((state == 3) &amp;&amp; (global.apariencia == 0))
    {
        if (direct == 1)
            draw_sprite_ext(sprite_index, image_index, (x - 6), round(y), direct, image_yscale, 0, c_white, 1)
        else
            draw_sprite_ext(sprite_index, image_index, (x + 6), round(y), direct, image_yscale, 0, c_white, 1)
    }
    else if ((stompstyle == 0) &amp;&amp; (caped == 0))
        draw_sprite_ext(sprite_index, image_index, (round(x) + shake), round(y), direct, image_yscale, 0, c_white, 1)
    else if (sprite_index == scr_mariowarp())
        draw_sprite_ext(sprite_index, image_index, (round(x) + shake), round(y), image_yscale, 1, 0, c_white, 1)
}
else if ((state == 3) &amp;&amp; (global.apariencia == 0))
{
    if (direct == 1)
        draw_sprite_ext(sprite_index, image_index, (x - 6), y, direct, image_yscale, 0, c_white, 1)
    else
        draw_sprite_ext(sprite_index, image_index, (x + 6), y, direct, image_yscale, 0, c_white, 1)
}
else if ((stompstyle == 0) &amp;&amp; (caped == 0))
    draw_sprite_ext(sprite_index, image_index, (round(x) + shake), round(y), direct, image_yscale, 0, c_white, image_alpha)
else if (sprite_index == scr_mariowarp())
    draw_sprite_ext(sprite_index, image_index, (round(x) + shake), round(y), 1, image_yscale, 0, c_white, image_alpha)
else
    draw_sprite_ext(sprite_index, image_index, (round(x) + shake), round(y), direct, image_yscale, 0, c_white, image_alpha)
if ((isflashing == 1) &amp;&amp; (global.effect_star == 1))
    shader_reset()
if ((global.condiciones == 1) &amp;&amp; (global.condiciones_clear == 1))
{
    if (global.powerup == 0)
    {
        if (global.apariencia == 2)
            draw_sprite(spr_condicion_obtenida, global.jugador, (x - 19), (y - 2))
        else
            draw_sprite(spr_SMB3_condicion_obtenida, 0, (x - 19), (y - 2))
    }
    else if (global.apariencia == 2)
        draw_sprite(spr_condicion_obtenida, global.jugador, (x - 19), (y - 12))
    else
        draw_sprite(spr_SMB3_condicion_obtenida, 0, (x - 19), (y - 12))
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,-16</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
